const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B_H8kYy0.js","assets/index-DlHeMDbj.js","assets/index-cuQ1gJpm.css","assets/hashTypedData-B0tjcNmh.js"])))=>i.map(i=>d[i]);
import{aj as L,an as Gt,as as T,az as jt,ax as q,aA as ie,aB as Be,aC as Ki,aD as fe,aE as Ie,ak as Ne,ay as ye,aF as Ji,aG as Xi,aH as me,aI as Qi,aJ as ea,aK as nr,aL as ta,am as bt,ao as ke,aM as Hs,aN as Tt,aO as et,aP as qr,aQ as Zr,aR as Wr,aS as Yr,aT as Kr,aU as Jr,aV as Xr,aW as Qr,aX as zt,aY as wt,aZ as es,a_ as qs,ap as Zs,a$ as na,b0 as Rt,b1 as ts,b2 as Ws,b3 as zn,b4 as ra,b5 as Rn,aq as lt,b6 as ns,b7 as Ys,b8 as rs,b9 as sa,ba as pn,aw as oa,au as ia,al as aa,bb as ca,bc as ua,bd as fa,be as da,bf as Ks,bg as ss,bh as la}from"./index-DlHeMDbj.js";import{b as Fe,i as Js,c as Xs,d as Qs,g as nt,A as os,f as Ve,t as rr,k as _e,j as xt,l as vt,m as eo,n as to,I as ba,o as no,s as ha,p as ht,q as sr,r as ro,u as be,v as ae,w as de,e as he,x as pa,y as ma,D as or,z as Ct,B as Ot,C as so,E as ya,F as is,G as as,H as ga,J as cs,K as wa,L as xa,M as oo,N as va,O as Pa,P as Ea,Q as Ba,R as Ia,U as Aa,S as io,T as $a,V as Cn,h as ao,a as Sa}from"./hashTypedData-B0tjcNmh.js";const Ta="1.2.3";let ee=class On extends Error{constructor(t,n={}){const r=n.cause instanceof On?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof On&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Ta}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const co=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Na(e){return co.test(e)}function ka(e){return Fe(co,e)}const uo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Fa(e){return uo.test(e)}function za(e){return Fe(uo,e)}const fo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ra(e){return fo.test(e)}function Ca(e){return Fe(fo,e)}const lo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Vt(e){return lo.test(e)}function Oa(e){return Fe(lo,e)}const bo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function _a(e){return bo.test(e)}function La(e){return Fe(bo,e)}const ho=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ma(e){return ho.test(e)}function Ua(e){return Fe(ho,e)}const Ga=/^receive\(\) external payable$/;function ja(e){return Ga.test(e)}const us=new Set(["memory","indexed","storage","calldata"]),Va=new Set(["indexed"]),_n=new Set(["calldata","memory","storage"]);class Da extends ee{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Ha extends ee{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class qa extends ee{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Za extends ee{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Wa extends ee{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ya extends ee{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ka extends ee{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ja extends ee{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Xa extends ee{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class rt extends ee{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Qa extends ee{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class e0 extends ee{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class t0 extends ee{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class n0 extends ee{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function r0(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const mn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ln(e,t={}){if(Ra(e))return s0(e,t);if(Fa(e))return o0(e,t);if(Na(e))return i0(e,t);if(_a(e))return a0(e,t);if(Ma(e))return c0(e);if(ja(e))return{type:"receive",stateMutability:"payable"};throw new Qa({signature:e})}function s0(e,t={}){const n=Ca(e);if(!n)throw new rt({signature:e,type:"function"});const r=te(n.parameters),s=[],o=r.length;for(let c=0;c<o;c++)s.push(Ae(r[c],{modifiers:_n,structs:t,type:"function"}));const i=[];if(n.returns){const c=te(n.returns),a=c.length;for(let u=0;u<a;u++)i.push(Ae(c[u],{modifiers:_n,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function o0(e,t={}){const n=za(e);if(!n)throw new rt({signature:e,type:"event"});const r=te(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{modifiers:Va,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function i0(e,t={}){const n=ka(e);if(!n)throw new rt({signature:e,type:"error"});const r=te(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function a0(e,t={}){const n=La(e);if(!n)throw new rt({signature:e,type:"constructor"});const r=te(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function c0(e){const t=Ua(e);if(!t)throw new rt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const u0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,d0=/^u?int$/;function Ae(e,t){const n=r0(e,t?.type,t?.structs);if(mn.has(n))return mn.get(n);const r=Js.test(e),s=Fe(r?f0:u0,e);if(!s)throw new Wa({param:e});if(s.name&&b0(s.name))throw new Ya({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},c=t?.structs??{};let a,u={};if(r){a="tuple";const d=te(s.type),l=[],b=d.length;for(let p=0;p<b;p++)l.push(Ae(d[p],{structs:c}));u={components:l}}else if(s.type in c)a="tuple",u={components:c[s.type]};else if(d0.test(s.type))a=`${s.type}256`;else if(s.type==="address payable")a="address";else if(a=s.type,t?.type!=="struct"&&!po(a))throw new qa({type:a});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Ka({param:e,type:t?.type,modifier:s.modifier});if(_n.has(s.modifier)&&!h0(a,!!s.array))throw new Ja({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${a}${s.array??""}`,...o,...i,...u};return mn.set(n,f),f}function te(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],c=e.slice(o+1);switch(i){case",":return r===0?te(c,[...t,n.trim()]):te(c,t,`${n}${i}`,r);case"(":return te(c,t,`${n}${i}`,r+1);case")":return te(c,t,`${n}${i}`,r-1);default:return te(c,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new n0({current:n,depth:r});return t.push(n.trim()),t}function po(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Xs.test(e)||Qs.test(e)}const l0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function b0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Xs.test(e)||Qs.test(e)||l0.test(e)}function h0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ir(e){const t={},n=e.length;for(let i=0;i<n;i++){const c=e[i];if(!Vt(c))continue;const a=Oa(c);if(!a)throw new rt({signature:c,type:"struct"});const u=a.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const m=Ae(p,{type:"struct"});f.push(m)}if(!f.length)throw new e0({signature:c});t[a.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[c,a]=s[i];r[c]=mo(a,t)}return r}const p0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function mo(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Js.test(i.type))r.push(i);else{const a=Fe(p0,i.type);if(!a?.type)throw new Xa({abiParameter:i});const{array:u,type:f}=a;if(f in t){if(n.has(f))throw new t0({type:f});r.push({...i,type:`tuple${u??""}`,components:mo(t[f],t,new Set([...n,f]))})}else if(po(f))r.push(i);else throw new Ha({type:f})}}return r}function yo(e){const t=ir(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Vt(o)||n.push(Ln(o,t))}return n}function fs(e){let t;if(typeof e=="string")t=Ln(e);else{const n=ir(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Vt(o)){t=Ln(o,n);break}}}if(!t)throw new Da({signature:e});return t}function ds(e){const t=[];if(typeof e=="string"){const n=te(e),r=n.length;for(let s=0;s<r;s++)t.push(Ae(n[s],{modifiers:us}))}else{const n=ir(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Vt(o))continue;const i=te(o),c=i.length;for(let a=0;a<c;a++)t.push(Ae(i[a],{modifiers:us,structs:n}))}}if(t.length===0)throw new Za({params:e});return t}function O(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class m0 extends L{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ls="/docs/contract/encodeEventTopics";function Pt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const a=nt({abi:t,name:n});if(!a)throw new os(n,{docsPath:ls});s=a}if(s.type!=="event")throw new os(void 0,{docsPath:ls});const o=Ve(s),i=rr(o);let c=[];if(r&&"inputs"in s){const a=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?a?.map(f=>r[f.name])??[]:[];u.length>0&&(c=a?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,b)=>bs({param:f,value:u[d][b]})):typeof u[d]<"u"&&u[d]!==null?bs({param:f,value:u[d]}):null)??[])}return[i,...c]}function bs({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return _e(Gt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new m0(e.type);return xt([e],[t])}function Dt(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function go(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:c,toBlock:a}=t,u=Dt(e,{method:"eth_newFilter"}),f=o?Pt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?T(i):i,toBlock:typeof a=="bigint"?T(a):a,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}function ne(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const y0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},wo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},g0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let hs=class extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},xo=class extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},w0=class extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const x0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new w0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new xo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new hs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new hs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ar(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(x0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function v0(e,t={}){typeof t.size<"u"&&jt(e,{size:t.size});const n=q(e,t);return fe(n,t)}function P0(e,t={}){let n=e;if(typeof t.size<"u"&&(jt(n,{size:t.size}),n=Be(n)),n.length>1||n[0]>1)throw new Ki(n);return!!n[0]}function Pe(e,t={}){typeof t.size<"u"&&jt(e,{size:t.size});const n=q(e,t);return ie(n,t)}function E0(e,t={}){let n=e;return typeof t.size<"u"&&(jt(n,{size:t.size}),n=Be(n,{dir:"right"})),new TextDecoder().decode(n)}function Et(e,t){const n=typeof t=="string"?Ie(t):t,r=ar(n);if(Ne(n)===0&&e.length>0)throw new vt;if(Ne(t)&&Ne(t)<32)throw new eo({data:typeof t=="string"?t:q(t),params:e,size:Ne(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const c=e[i];r.setPosition(s);const[a,u]=Je(r,c,{staticPosition:0});s+=u,o.push(a)}return o}function Je(e,t,{staticPosition:n}){const r=to(t.type);if(r){const[s,o]=r;return I0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return T0(e,t,{staticPosition:n});if(t.type==="address")return B0(e);if(t.type==="bool")return A0(e);if(t.type.startsWith("bytes"))return $0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return S0(e,t);if(t.type==="string")return N0(e,{staticPosition:n});throw new ba(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ps=32,Mn=32;function B0(e){const t=e.readBytes(32);return[no(q(ha(t,-20))),32]}function I0(e,t,{length:n,staticPosition:r}){if(!n){const i=Pe(e.readBytes(Mn)),c=r+i,a=c+ps;e.setPosition(c);const u=Pe(e.readBytes(ps)),f=pt(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(a+(f?b*32:d));const[p,m]=Je(e,t,{staticPosition:a});d+=m,l.push(p)}return e.setPosition(r+32),[l,32]}if(pt(t)){const i=Pe(e.readBytes(Mn)),c=r+i,a=[];for(let u=0;u<n;++u){e.setPosition(c+u*32);const[f]=Je(e,t,{staticPosition:c});a.push(f)}return e.setPosition(r+32),[a,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[c,a]=Je(e,t,{staticPosition:r+s});s+=a,o.push(c)}return[o,s]}function A0(e){return[P0(e.readBytes(32),{size:32}),32]}function $0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Pe(e.readBytes(32));e.setPosition(n+i);const c=Pe(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[q(a),32]}return[q(e.readBytes(Number.parseInt(s,10),32)),32]}function S0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?v0(s,{signed:n}):Pe(s,{signed:n}),32]}function T0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(pt(t)){const i=Pe(e.readBytes(Mn)),c=n+i;for(let a=0;a<t.components.length;++a){const u=t.components[a];e.setPosition(c+o);const[f,d]=Je(e,u,{staticPosition:c});o+=d,s[r?a:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const c=t.components[i],[a,u]=Je(e,c,{staticPosition:n});s[r?i:c?.name]=a,o+=u}return[s,o]}function N0(e,{staticPosition:t}){const n=Pe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Pe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=E0(Be(o));return e.setPosition(t+32),[i,32]}function pt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(pt);const n=to(e.type);return!!(n&&pt({...e,type:n[1]}))}function k0(e){const{abi:t,data:n}=e,r=ht(n,0,4);if(r==="0x")throw new vt;const o=[...t||[],wo,g0].find(i=>i.type==="error"&&r===sr(Ve(i)));if(!o)throw new ro(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Et(o.inputs,ht(n,4)):void 0,errorName:o.name}}function vo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ye(t[o]):t[o]}`).join(", ")})`}function cr(e,t="wei"){return Ji(e,Xi[t])}class F0 extends L{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class z0 extends L{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ms(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function R0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ms(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ms(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Bt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class C0 extends L{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class O0 extends L{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Bt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class _0 extends L{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class L0 extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=Bt({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${cr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Po extends L{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Eo extends L{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class M0 extends L{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class U0 extends L{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Bo extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){const p=n?ne(n):void 0;let m=Bt({from:p?.address,to:d,value:typeof l<"u"&&`${cr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});b&&(m+=`
${R0(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Io extends L{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:c}){const a=nt({abi:n,args:r,name:i}),u=a?vo({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=a?Ve(a,{includeName:!0}):void 0,d=Bt({address:s&&Qi(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=c}}class Un extends L{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,c,a;if(n&&n!=="0x")try{i=k0({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")a=l[0];else if(d==="Panic"){const[b]=l;a=y0[b]}else{const b=f?Ve(f,{includeName:!0}):void 0,p=f&&l?vo({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;c=[b?`Error: ${b}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(a=s);let u;o instanceof ro&&(u=o.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(a&&a!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,a||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=a,this.signature=u}}class G0 extends L{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class j0 extends L{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Ht extends L{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const V0=3;function tt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const c=e instanceof Ht?e:e instanceof L?e.walk(p=>"data"in p)||e.walk():{},{code:a,data:u,details:f,message:d,shortMessage:l}=c,b=e instanceof vt?new G0({functionName:o}):[V0,ea.code].includes(a)&&(u||f||d||l)||a===nr.code&&f==="execution reverted"&&u?new Un({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:c instanceof ta?f:l??d}):e;return new Io(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function D0(e){const t=_e(`0x${e.substring(4)}`).substring(26);return no(`0x${t}`)}async function H0({hash:e,signature:t}){const n=bt(e)?e:ke(e),{secp256k1:r}=await Hs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Kd);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),p=ys(b);return new r.Signature(fe(u),fe(f)).addRecoveryBit(p)}const i=bt(t)?t:ke(t);if(Ne(i)!==65)throw new Error("invalid signature length");const c=ie(`0x${i.slice(130)}`),a=ys(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ys(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ao({hash:e,signature:t}){return D0(await H0({hash:e,signature:t}))}function Le(e,t="hex"){const n=$o(e),r=ar(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function $o(e){return Array.isArray(e)?q0(e.map(t=>$o(t))):Z0(e)}function q0(e){const t=e.reduce((s,o)=>s+o.length,0),n=So(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Z0(e){const t=typeof e=="string"?Ie(e):e,n=So(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function So(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new L("Length is too large.")}function W0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=_e(be(["0x05",Le([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?Ie(o):o}async function To(e){const{authorization:t,signature:n}=e;return Ao({hash:W0(t),signature:n??t})}class Y0 extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=Bt({from:n?.address,to:d,value:typeof l<"u"&&`${cr(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function qt(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof L?e.walk(s=>s?.code===Tt.code):e;return r instanceof L?new Tt({cause:e,message:r.details}):Tt.nodeMessage.test(n)?new Tt({cause:e,message:e.details}):et.nodeMessage.test(n)?new et({cause:e,maxFeePerGas:t?.maxFeePerGas}):qr.nodeMessage.test(n)?new qr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Zr.nodeMessage.test(n)?new Zr({cause:e,nonce:t?.nonce}):Wr.nodeMessage.test(n)?new Wr({cause:e,nonce:t?.nonce}):Yr.nodeMessage.test(n)?new Yr({cause:e,nonce:t?.nonce}):Kr.nodeMessage.test(n)?new Kr({cause:e}):Jr.nodeMessage.test(n)?new Jr({cause:e,gas:t?.gas}):Xr.nodeMessage.test(n)?new Xr({cause:e,gas:t?.gas}):Qr.nodeMessage.test(n)?new Qr({cause:e}):zt.nodeMessage.test(n)?new zt({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new wt({cause:e})}function K0(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new Y0(r,{docsPath:t,...n})}function Zt(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const c of i)c in e&&(n[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&r(o[c])}const s=t(e||{});return r(s),n}function Wt(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const c of n)delete i[c];return{...i,...r(s,o)}},type:e})}const J0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function st(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=X0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>q(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=T(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=T(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=T(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=T(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=J0[e.type]),typeof e.value<"u"&&(n.value=T(e.value)),n}const wl=Wt("transactionRequest",st);function X0(e){return e.map(t=>({address:t.address,r:t.r?T(BigInt(t.r)):t.r,s:t.s?T(BigInt(t.s)):t.s,chainId:T(t.chainId),nonce:T(t.nonce),...typeof t.yParity<"u"?{yParity:T(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:T(t.v)}:{}}))}function gs(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new es({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new es({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Q0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=T(t)),n!==void 0&&(i.nonce=T(n)),r!==void 0&&(i.state=gs(r)),s!==void 0){if(i.state)throw new z0;i.stateDiff=gs(s)}return i}function ur(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ae(n,{strict:!1}))throw new de({address:n});if(t[n])throw new F0({address:n});t[n]=Q0(r)}return t}const xl=2n**16n-1n,Yt=2n**256n-1n;function ot(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?ne(t):void 0;if(o&&!ae(o.address))throw new de({address:o.address});if(s&&!ae(s))throw new de({address:s});if(n&&n>Yt)throw new et({maxFeePerGas:n});if(r&&n&&r>n)throw new zt({maxFeePerGas:n,maxPriorityFeePerGas:r})}class No extends L{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class fr extends L{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ec extends L{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${me(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ko extends L{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Fo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Kt(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ie(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ie(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Fo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=tc(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const vl=Wt("transaction",Kt);function tc(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function dr(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Kt(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Pl=Wt("block",dr);async function ue(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?T(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!c)throw new ko({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||dr)(c,"getBlock")}async function lr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function nc(e,t){return zo(e,t)}async function zo(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const c=n||await O(e,ue,"getBlock")({}),a=await o({block:c,client:e,request:s});if(a===null)throw new Error;return a}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return fe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):O(e,ue,"getBlock")({}),O(e,lr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new fr;const c=i-o.baseFeePerGas;return c<0n?0n:c}}async function rc(e,t){return Gn(e,t)}async function Gn(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new No;const a=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*a))/BigInt(a),f=n||await O(e,ue,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new fr;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await zo(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??b+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await O(e,lr,"getGasPrice")({}))}}async function Ro(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return ie(s)}function br(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ie(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>q(o))}function hr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ie(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ie(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const c=r[i],a=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(c,a)))}return n==="bytes"?o:o.map(i=>q(i))}const Co=qs;function sc(e,t){const n=t||"hex",r=Co(bt(e,{strict:!1})?Gt(e):e);return n==="bytes"?r:ke(r)}function oc(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=sc(t,"bytes");return s.set([n],0),r==="bytes"?s:q(s)}function Oo(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(oc({commitment:o,to:r,version:n}));return s}const ws=6,_o=32,pr=4096,Lo=_o*pr,xs=Lo*ws-1-1*pr*ws,Mo=1;class ic extends L{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Uo extends L{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class ac extends L{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class cc extends L{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Mo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function uc(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ie(e.data):e.data,r=Ne(n);if(!r)throw new Uo;if(r>xs)throw new ic({maxSize:xs,size:r});const s=[];let o=!0,i=0;for(;o;){const c=ar(new Uint8Array(Lo));let a=0;for(;a<pr;){const u=n.slice(i,i+(_o-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),o=!1;break}a++,i+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>q(c.bytes))}function Go(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??uc({data:t,to:r}),o=e.commitments??br({blobs:s,kzg:n,to:r}),i=e.proofs??hr({blobs:s,commitments:o,kzg:n,to:r}),c=[];for(let a=0;a<s.length;a++)c.push({blob:s[a],commitment:o[a],proof:i[a]});return c}function jo(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new O0({transaction:e})}function fc(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new L0(r,{docsPath:t,...n})}async function mr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ie(t)}async function Vo(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:c,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:p,nonceManager:m,to:x,type:w,value:v,...g}=t,h=await(async()=>{if(!n||!m||typeof p<"u")return p;const I=ne(n),k=o?o.id:await O(e,mr,"getChainId")({});return await m.consume({address:I.address,chainId:k,client:e})})();ot(t);const y=o?.formatters?.transactionRequest?.format,E=(y||st)({...Zt(g,{format:y}),account:n?ne(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:i,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:h,to:x,type:w,value:v},"fillTransaction");try{const I=await e.request({method:"eth_fillTransaction",params:[E]}),B=(o?.formatters?.transaction?.format||Kt)(I.tx);delete B.blockHash,delete B.blockNumber,delete B.r,delete B.s,delete B.transactionIndex,delete B.v,delete B.yParity,B.data=B.input,B.gas&&(B.gas=t.gas??B.gas),B.gasPrice&&(B.gasPrice=t.gasPrice??B.gasPrice),B.maxFeePerBlobGas&&(B.maxFeePerBlobGas=t.maxFeePerBlobGas??B.maxFeePerBlobGas),B.maxFeePerGas&&(B.maxFeePerGas=t.maxFeePerGas??B.maxFeePerGas),B.maxPriorityFeePerGas&&(B.maxPriorityFeePerGas=t.maxPriorityFeePerGas??B.maxPriorityFeePerGas),B.nonce&&(B.nonce=t.nonce??B.nonce);const N=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const $=await O(e,ue,"getBlock")({});return o.fees.baseFeeMultiplier({block:$,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(N<1)throw new No;const F=10**(N.toString().split(".")[1]?.length??0),U=$=>$*BigInt(Math.ceil(N*F))/BigInt(F);return B.maxFeePerGas&&!t.maxFeePerGas&&(B.maxFeePerGas=U(B.maxFeePerGas)),B.gasPrice&&!t.gasPrice&&(B.gasPrice=U(B.gasPrice)),{raw:I.raw,transaction:{from:E.from,...B}}}catch(I){throw fc(I,{...t,chain:e.chain})}}const dc=["blobVersionedHashes","chainId","fees","gas","nonce","type"],vs=new Map,yn=new Zs(128);async function Do(e,t){let n=t;n.account??=e.account,n.parameters??=dc;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,c=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let a;async function u(){return a||(typeof n.chainId<"u"?n.chainId:s?s.id:(a=await O(e,mr,"getChainId")({}),a))}const f=r&&ne(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const h=await u();d=await o.consume({address:f.address,chainId:h,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const b=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||yn.get(e.uid)===!1||!["fees","gas"].some(y=>i.includes(y))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await O(e,Vo,"fillTransaction")({...n,nonce:d}).then(h=>{const{chainId:y,from:P,gas:E,gasPrice:I,nonce:k,maxFeePerBlobGas:B,maxFeePerGas:N,maxPriorityFeePerGas:R,type:F,...U}=h.transaction;return yn.set(e.uid,!0),{...n,...P?{from:P}:{},...F?{type:F}:{},...typeof y<"u"?{chainId:y}:{},...typeof E<"u"?{gas:E}:{},...typeof I<"u"?{gasPrice:I}:{},...typeof k<"u"?{nonce:k}:{},...typeof B<"u"?{maxFeePerBlobGas:B}:{},...typeof N<"u"?{maxFeePerGas:N}:{},...typeof R<"u"?{maxPriorityFeePerGas:R}:{},..."nonceKey"in U&&typeof U.nonceKey<"u"?{nonceKey:U.nonceKey}:{}}}).catch(h=>{const y=h;return y.name!=="TransactionExecutionError"||y.walk?.(E=>{const I=E;return I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"})&&yn.set(e.uid,!1),n}):n;d??=b.nonce,n={...b,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:m,kzg:x,type:w}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn({...n,chain:s},{phase:"beforeFillParameters"}));let v;async function g(){return v||(v=await O(e,ue,"getBlock")({blockTag:"latest"}),v)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await O(e,Ro,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&x){const h=br({blobs:p,kzg:x});if(i.includes("blobVersionedHashes")){const y=Oo({commitments:h,to:"hex"});n.blobVersionedHashes=y}if(i.includes("sidecars")){const y=hr({blobs:p,commitments:h,kzg:x}),P=Go({blobs:p,commitments:h,proofs:y,to:"hex"});n.sidecars=P}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof w>"u")try{n.type=jo(n)}catch{let h=vs.get(e.uid);typeof h>"u"&&(h=typeof(await g())?.baseFeePerGas=="bigint",vs.set(e.uid,h)),n.type=h?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const h=await g(),{maxFeePerGas:y,maxPriorityFeePerGas:P}=await Gn(e,{block:h,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<P)throw new ec({maxPriorityFeePerGas:P});n.maxPriorityFeePerGas=P,n.maxFeePerGas=y}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new fr;if(typeof n.gasPrice>"u"){const h=await g(),{gasPrice:y}=await Gn(e,{block:h,chain:s,request:n,type:"legacy"});n.gasPrice=y}}return i.includes("gas")&&typeof m>"u"&&(n.gas=await O(e,yr,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn({...n,chain:s},{phase:"afterFillParameters"})),ot(n),delete n.parameters,n}async function yr(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?ne(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await To({authorization:t.authorizationList[0]}).catch(()=>{throw new L("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:g,value:h,stateOverride:y,...P}=r?await Do(e,{...t,parameters:o,to:i}):t;if(p&&t.gas!==p)return p;const I=(typeof d=="bigint"?T(d):void 0)||l,k=ur(y);ot(t);const B=e.chain?.formatters?.transactionRequest?.format,R=(B||st)({...Zt(P,{format:B}),account:s,accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,data:b,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:g,to:i,value:h},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:k?[R,I??e.experimental_blockTag??"latest",k]:I?[R,I]:[R]}))}catch(i){throw K0(i,{...t,account:s,chain:e.chain})}}async function lc(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...c}=t,a=he({abi:n,args:s,functionName:o});try{return await O(e,yr,"estimateGas")({data:`${a}${i?i.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?ne(c.account):void 0;throw tt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function Jt(e,t){if(!ae(e,{strict:!1}))throw new de({address:e});if(!ae(t,{strict:!1}))throw new de({address:t});return e.toLowerCase()===t.toLowerCase()}const Ps="/docs/contract/decodeEventLog";function _t(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...c]=s;if(!i)throw new pa({docsPath:Ps});const a=t.find(w=>w.type==="event"&&i===rr(Ve(w)));if(!(a&&"name"in a)||a.type!=="event")throw new ma(i,{docsPath:Ps});const{name:u,inputs:f}=a,d=f?.some(w=>!("name"in w&&w.name)),l=d?[]:{},b=f.map((w,v)=>[w,v]).filter(([w])=>"indexed"in w&&w.indexed),p=[];for(let w=0;w<b.length;w++){const[v,g]=b[w],h=c[w];if(!h){if(o)throw new or({abiItem:a,param:v});p.push([v,g]);continue}l[d?g:v.name||g]=bc({param:v,value:h})}const m=f.filter(w=>!("indexed"in w&&w.indexed)),x=o?m:[...p.map(([w])=>w),...m];if(x.length>0){if(n&&n!=="0x")try{const w=Et(x,n);if(w){let v=0;if(!o)for(const[g,h]of p)l[d?h:g.name||h]=w[v++];if(d)for(let g=0;g<f.length;g++)l[g]===void 0&&v<w.length&&(l[g]=w[v++]);else for(let g=0;g<m.length;g++)l[m[g].name]=w[v++]}}catch(w){if(o)throw w instanceof eo||w instanceof xo?new Ct({abiItem:a,data:n,params:x,size:Ne(n)}):w}else if(o)throw new Ct({abiItem:a,data:"0x",params:x,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function bc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Et([e],t)||[])[0]}function gr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(c=>c.type==="event").map(c=>({abi:c,selector:rr(c)}));return r.map(c=>{const a=i.filter(d=>c.topics[0]===d.selector);if(a.length===0)return null;let u,f;for(const d of a)try{u=_t({...c,abi:[d.abi],strict:!0}),f=d;break}catch{}if(!u&&!s){f=a[0];try{u=_t({data:c.data,topics:c.topics,abi:[f.abi],strict:!1})}catch{const d=f.abi.inputs?.some(l=>!("name"in l&&l.name));return{...c,args:d?[]:{},eventName:f.abi.name}}}return!u||!f||o&&!o.includes(u.eventName)||!hc({args:u.args,inputs:f.abi.inputs,matchArgs:n})?null:{...u,...c}}).filter(Boolean)}function hc(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,c){try{return o.type==="address"?Jt(i,c):o.type==="string"||o.type==="bytes"?_e(Gt(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const c=n[i];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[o])):!1}):!1}function $e(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function wr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:c,strict:a}={}){const u=a??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(m=>Pt({abi:[m],eventName:m.name,args:i?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const b=l.map(p=>$e(p));return f?gr({abi:f,args:c,logs:b,strict:u}):b}async function Ho(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:c,toBlock:a,strict:u}=t,f=i?nt({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return O(e,wr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:a,strict:u})}const gn="/docs/contract/decodeFunctionResult";function De(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const c=nt({abi:t,args:n,name:r});if(!c)throw new Ot(r,{docsPath:gn});o=c}if(o.type!=="function")throw new Ot(void 0,{docsPath:gn});if(!o.outputs)throw new so(o.name,{docsPath:gn});const i=Et(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const pc="0.1.1";function mc(){return pc}class _ extends Error{static setStaticOptions(t){_.prototype.docsOrigin=t.docsOrigin,_.prototype.showVersion=t.showVersion,_.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof _){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof _&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??_.prototype.docsOrigin,i=`${o}${s??""}`,c=!!(n.version??_.prototype.showVersion),a=n.version??_.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||c?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,c?`Version: ${a}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=c,this.version=a}walk(t){return qo(this,t)}}Object.defineProperty(_,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${mc()}`}});_.setStaticOptions(_.defaultStaticOptions);function qo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?qo(e.cause,t):t?null:e}function it(e,t){if(Ye(e)>t)throw new Cc({givenSize:Ye(e),maxSize:t})}const ge={zero:48,nine:57,A:65,F:70,a:97,f:102};function Es(e){if(e>=ge.zero&&e<=ge.nine)return e-ge.zero;if(e>=ge.A&&e<=ge.F)return e-(ge.A-10);if(e>=ge.a&&e<=ge.f)return e-(ge.a-10)}function yc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Oc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Zo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Xt(e,t){if(Y(e)>t)throw new Uc({givenSize:Y(e),maxSize:t})}function gc(e,t){if(typeof t=="number"&&t>0&&t>Y(e)-1)throw new ri({offset:t,position:"start",size:Y(e)})}function wc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Y(e)!==n-t)throw new ri({offset:n,position:"end",size:Y(e)})}function Wo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Gc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function xc(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const vc="#__bigint";function Qt(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+vc:s,n)}const Pc=new TextDecoder,Ec=new TextEncoder;function Bc(e){if(!(e instanceof Uint8Array)){if(!e)throw new Nt(e);if(typeof e!="object")throw new Nt(e);if(!("BYTES_PER_ELEMENT"in e))throw new Nt(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Nt(e)}}function El(...e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Yo(e){return e instanceof Uint8Array?e:typeof e=="string"?en(e):Ic(e)}function Ic(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function en(e,t={}){const{size:n}=t;let r=e;n&&(Xt(e,n),r=Ue(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let c=0,a=0;c<o;c++){const u=Es(s.charCodeAt(a++)),f=Es(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new _(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);i[c]=u<<4|f}return i}function Ac(e,t={}){const{size:n}=t,r=Ec.encode(e);return typeof n=="number"?(it(r,n),$c(r,n)):r}function $c(e,t){return yc(e,{dir:"right",size:t})}function Sc(e){return crypto.getRandomValues(new Uint8Array(e))}function Ye(e){return e.length}function Tc(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Nc(e,t={}){const{size:n}=t;typeof n<"u"&&it(e,n);const r=Q(e,t);return ei(r,t)}function kc(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(it(r,n),r=Ko(r)),r.length>1||r[0]>1)throw new Rc(r);return!!r[0]}function Ee(e,t={}){const{size:n}=t;typeof n<"u"&&it(e,n);const r=Q(e,t);return ti(r,t)}function Fc(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(it(r,n),r=Jo(r)),Pc.decode(r)}function Ko(e){return Zo(e,{dir:"left"})}function Jo(e){return Zo(e,{dir:"right"})}function zc(e){try{return Bc(e),!0}catch{return!1}}class Rc extends _{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class Nt extends _{constructor(t){super(`Value \`${typeof t=="object"?Qt(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let Cc=class extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Oc=class extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const _c=new TextEncoder,Lc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Mc(e,t={}){const{strict:n=!1}=t;if(!e)throw new Is(e);if(typeof e!="string")throw new Is(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new As(e);if(!e.startsWith("0x"))throw new As(e)}function re(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Xo(e){return e instanceof Uint8Array?Q(e):Array.isArray(e)?Q(new Uint8Array(e)):e}function Qo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Xt(n,t.size),Me(n,t.size)):n}function Q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Lc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Xt(r,t.size),Ue(r,t.size)):r}function j(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new ni({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const a=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Me(a,r):a}function xr(e,t={}){return Q(_c.encode(e),t)}function Me(e,t){return Wo(e,{dir:"left",size:t})}function Ue(e,t){return Wo(e,{dir:"right",size:t})}function Al(e){return Q(Sc(e))}function H(e,t,n,r={}){const{strict:s}=r;gc(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&wc(o,t,n),o}function Y(e){return Math.ceil((e.length-2)/2)}function Bs(e){return xc(e,{dir:"left"})}function ei(e,t={}){const{signed:n}=t;t.size&&Xt(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function ti(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:ei(e,t))}function $l(e,t={}){const{size:n}=t;let r=en(e);return n&&(it(r,n),r=Jo(r)),new TextDecoder().decode(r)}function vr(e,t={}){const{strict:n=!1}=t;try{return Mc(e,{strict:n}),!0}catch{return!1}}class ni extends _{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Is extends _{constructor(t){super(`Value \`${typeof t=="object"?Qt(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class As extends _{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Sl extends _{constructor(t){super(`Hex value \`"${t}"\` is an odd length (${t.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}class Uc extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ri extends _{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Gc extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function jc(e){return{address:e.address,amount:j(e.amount),index:j(e.index),validatorIndex:j(e.validatorIndex)}}function si(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:j(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:j(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:j(e.gasLimit)},...typeof e.number=="bigint"&&{number:j(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:j(e.prevRandao)},...typeof e.time=="bigint"&&{time:j(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(jc)}}}const Vc="0x82ad56cb",oi="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Dc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Hc="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Pr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class jn extends L{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ii extends L{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class tn extends L{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const wn="/docs/contract/encodeDeployData";function Er(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ya({docsPath:wn});if(!("inputs"in s))throw new is({docsPath:wn});if(!s.inputs||s.inputs.length===0)throw new is({docsPath:wn});const o=xt(s.inputs,n);return be([r,o])}function at({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new jn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new jn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ai(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new Bo(r,{docsPath:t,...n})}async function nn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:a,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:g,to:h,value:y,stateOverride:P,...E}=t,I=n?ne(n):void 0;if(f&&(l||b))throw new L("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&h)throw new L("Cannot provide both `code` & `to` as parameters.");const k=f&&d,B=l&&b&&h&&d,N=k||B,R=k?ci({code:f,data:d}):B?Wc({data:d,factory:l,factoryData:b,to:h}):d;try{ot(t);const U=(typeof o=="bigint"?T(o):void 0)||i,$=u?si(u):void 0,A=ur(P),C=e.chain?.formatters?.transactionRequest?.format,z=(C||st)({...Zt(E,{format:C}),accessList:c,account:I,authorizationList:r,blobs:a,data:R,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:g,to:N?void 0:h,value:y},"call");if(s&&qc({request:z})&&!A&&!$)try{return await Zc(e,{...z,blockNumber:o,blockTag:i})}catch(V){if(!(V instanceof ii)&&!(V instanceof jn))throw V}const M=(()=>{const V=[z,U];return A&&$?[...V,A,$]:A?[...V,A]:$?[...V,{},$]:V})(),G=await e.request({method:"eth_call",params:M});return G==="0x"?{data:void 0}:{data:G}}catch(F){const U=Yc(F),{offchainLookup:$,offchainLookupSignature:A}=await Hs(async()=>{const{offchainLookup:C,offchainLookupSignature:S}=await import("./index-B_H8kYy0.js").then(z=>z.c);return{offchainLookup:C,offchainLookupSignature:S}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&U?.slice(0,10)===A&&h)return{data:await $(e,{data:U,to:h})};throw N&&U?.slice(0,10)==="0x101bb98d"?new j0({factory:l}):ai(F,{...t,account:I,chain:e.chain})}}function qc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Vc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Zc(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:a}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return at({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new ii})(),d=(typeof o=="bigint"?T(o):void 0)||i,{schedule:l}=na({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((w,{data:v})=>w+(v.length-2),0)>n*2},fn:async m=>{const x=m.map(g=>({allowFailure:!0,callData:g.data,target:g.to})),w=he({abi:Rt,args:[x],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:ci({code:Pr,data:w})}:{to:u,data:w}},d]});return De({abi:Rt,args:[x],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:b,success:p}]=await l({data:c,to:a});if(!p)throw new Ht({data:b});return b==="0x"?{data:void 0}:{data:b}}function ci(e){const{code:t,data:n}=e;return Er({abi:yo(["constructor(bytes, bytes)"]),bytecode:oi,args:[t,n]})}function Wc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Er({abi:yo(["constructor(address, bytes, address, bytes)"]),bytecode:Dc,args:[s,t,n,r]})}function Yc(e){if(!(e instanceof L))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function le(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,c=he({abi:n,args:s,functionName:o});try{const{data:a}=await O(e,nn,"call")({...i,data:c,to:r});return De({abi:n,args:s,functionName:o,data:a||"0x"})}catch(a){throw tt(a,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Kc(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...c}=t,a=c.account?ne(c.account):e.account,u=he({abi:n,args:s,functionName:o});try{const{data:f}=await O(e,nn,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...c,account:a}),d=De({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...c,account:a}}}catch(f){throw tt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:a?.address})}}const xn=new Map,$s=new Map;let Jc=0;function Se(e,t,n){const r=++Jc,s=()=>xn.get(e)||[],o=()=>{const f=s();xn.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=$s.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},c=s();if(xn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const a={};for(const f in t)a[f]=((...d)=>{const l=s();if(l.length!==0)for(const b of l)b.fns[f]?.(...d)});const u=n(a);return typeof u=="function"&&$s.set(e,u),i}function ct(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const a=await n?.(c)??r;await ts(a);const u=async()=>{s&&(await e({unpoll:o}),await ts(r),u())};u()})(),o}const Xc=new Map,Qc=new Map;function eu(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Xc),r=t(e,Qc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function tu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=eu(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const nu=e=>`blockNumber.${e}`;async function It(e,{cacheTime:t=e.cacheTime}={}){const n=await tu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:nu(e.uid),cacheTime:t});return BigInt(n)}async function rn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>$e(o));return!("abi"in t)||!t.abi?s:gr({abi:t.abi,logs:s,strict:n})}async function sn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ru(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:c,onError:a,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const x=l??!1,w=ye(["watchContractEvent",r,s,o,e.uid,i,d,x,c]);return Se(w,{onLogs:u,onError:a},v=>{let g;c!==void 0&&(g=c-1n);let h,y=!1;const P=ct(async()=>{if(!y){try{h=await O(e,go,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:x,fromBlock:c})}catch{}y=!0;return}try{let E;if(h)E=await O(e,rn,"getFilterChanges")({filter:h});else{const I=await O(e,It,"getBlockNumber")({});g&&g<I?E=await O(e,Ho,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:I,strict:x}):E=[],g=I}if(E.length===0)return;if(o)v.onLogs(E);else for(const I of E)v.onLogs([I])}catch(E){h&&E instanceof nr&&(y=!1),v.onError?.(E)}},{emitOnBegin:!0,interval:d});return async()=>{h&&await O(e,sn,"uninstallFilter")({filter:h}),P()}})})():(()=>{const x=l??!1,w=ye(["watchContractEvent",r,s,o,e.uid,i,d,x]);let v=!0,g=()=>v=!1;return Se(w,{onLogs:u,onError:a},h=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),P=i?Pt({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await y.subscribe({params:["logs",{address:r,topics:P}],onData(I){if(!v)return;const k=I.result;try{const{eventName:B,args:N}=_t({abi:n,data:k.data,topics:k.topics,strict:l}),R=$e(k,{args:N,eventName:B});h.onLogs([R])}catch(B){let N,R;if(B instanceof Ct||B instanceof or){if(l)return;N=B.abiItem.name,R=B.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const F=$e(k,{args:R?[]:{},eventName:N});h.onLogs([F])}},onError(I){h.onError?.(I)}});g=E,v||g()}catch(y){a?.(y)}})(),()=>g()))})()}async function su(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class ou extends L{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const ui={"0x0":"reverted","0x1":"success"};function Br(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>$e(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ie(e.transactionIndex):null,status:e.status?ui[e.status]:null,type:e.type?Fo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Tl=Wt("transactionReceipt",Br),iu="0x5792579257925792579257925792579257925792579257925792579257925792",au=T(0,{size:32});async function cu(e,t){async function n(f){if(f.endsWith(iu.slice(2))){const l=Be(as(f,-64,-32)),b=as(f,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(b.map(x=>au.slice(2)!==x?e.request({method:"eth_getTransactionReceipt",params:[`0x${x}`]},{dedupe:!0}):void 0)),m=p.some(x=>x===null)?100:p.every(x=>x?.status==="0x1")?200:p.every(x=>x?.status==="0x0")?500:600;return{atomic:!1,chainId:ie(l),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...c}=await n(t.id),[a,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?ie(s):void 0,receipts:o?.map(f=>({...f,blockNumber:fe(f.blockNumber),gasUsed:fe(f.gasUsed),status:ui[f.status]}))??[],statusCode:u,status:a,version:i}}async function Nl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:o=4,retryDelay:i=({count:m})=>~~(1<<m)*200,timeout:c=6e4,throwOnFailure:a=!1}=t,u=ye(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Ws();let b;const p=Se(u,{resolve:d,reject:l},m=>{const x=ct(async()=>{const w=v=>{clearTimeout(b),x(),v(),p()};try{const v=await zn(async()=>{const g=await O(e,cu,"getCallsStatus")({id:n});if(a&&g.status==="failure")throw new ou(g);return g},{retryCount:o,delay:i});if(!s(v))return;w(()=>m.resolve(v))}catch(v){w(()=>m.reject(v))}},{interval:r,emitOnBegin:!0});return x});return b=c?setTimeout(()=>{p(),clearTimeout(b),l(new uu({id:n}))},c):void 0,await f}class uu extends L{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function fu(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:c="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??f,l=e.cacheTime??d,b=e.account?ne(e.account):void 0,{config:p,request:m,value:x}=e.transport({account:b,chain:n,pollingInterval:d}),w={...p,...x},v={account:b,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:d,request:m,transport:w,type:c,uid:ra(),...a?{experimental_blockTag:a}:{}};function g(h){return y=>{const P=y(h);for(const I in v)delete P[I];const E={...h,...P};return Object.assign(E,{extend:g(E)})}}return Object.assign(v,{extend:g(v)})}function Ir(e){if(!(e instanceof L))return!1;const t=e.walk(n=>n instanceof Un);return t instanceof Un?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function du(e){const{abi:t,data:n}=e,r=ht(n,0,4),s=t.find(o=>o.type==="function"&&r===sr(Ve(o)));if(!s)throw new ga(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Et(s.inputs,ht(n,4)):void 0}}const vn="/docs/contract/encodeErrorResult";function Ss(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const a=nt({abi:t,args:r,name:n});if(!a)throw new cs(n,{docsPath:vn});s=a}if(s.type!=="error")throw new cs(void 0,{docsPath:vn});const o=Ve(s),i=sr(o);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new wa(s.name,{docsPath:vn});c=xt(s.inputs,r)}return be([i,c])}const Pn="/docs/contract/encodeFunctionResult";function lu(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=nt({abi:t,name:n});if(!i)throw new Ot(n,{docsPath:Pn});s=i}if(s.type!=="function")throw new Ot(void 0,{docsPath:Pn});if(!s.outputs)throw new so(s.name,{docsPath:Pn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new xa(r)})();return xt(s.outputs,o)}const on="x-batch-gateway:true";async function bu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=du({abi:Rn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,c)=>{try{o[c]=i.urls.includes(on)?await bu({data:i.data,ccipRequest:n}):await n(i),s[c]=!1}catch(a){s[c]=!0,o[c]=hu(a)}})),lu({abi:Rn,functionName:"query",result:[s,o]})}function hu(e){return e.name==="HttpRequestError"&&e.status?Ss({abi:Rn,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ss({abi:[wo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function fi(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return bt(t)?t:null}function Vn(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=fi(n[r]),o=s?Gt(s):_e(lt(n[r]),"bytes");t=_e(oo([t,o]),"bytes")}return q(t)}function pu(e){return`[${e.slice(2)}]`}function mu(e){const t=new Uint8Array(32).fill(0);return e?fi(e)||_e(lt(e)):q(t)}function Ar(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(lt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=lt(s[o]);i.byteLength>255&&(i=lt(pu(mu(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function yu(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[Vn(o),BigInt(s)]:[Vn(o)];try{const l=he({abi:ns,functionName:"addr",args:d}),b={address:u,abi:Ys,functionName:"resolveWithGateways",args:[ke(Ar(o)),l,i??[on]],blockNumber:n,blockTag:r},m=await O(e,le,"readContract")(b);if(m[0]==="0x")return null;const x=De({abi:ns,args:d,functionName:"addr",data:m[0]});return x==="0x"||Be(x)==="0x00"?null:x}catch(l){if(c)throw l;if(Ir(l))return null;throw l}}class gu extends L{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class dt extends L{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class $r extends L{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class wu extends L{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const xu=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,vu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Pu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Eu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Bu(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ts(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function di({uri:e,gatewayUrls:t}){const n=Pu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ts(t?.ipfs,"https://ipfs.io"),s=Ts(t?.arweave,"https://arweave.net"),o=e.match(xu),{protocol:i,subpath:c,target:a,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||c==="ipns/",d=i==="ipfs:/"||c==="ipfs/"||vu.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&a)return{uri:`${r}/${f?"ipns":"ipfs"}/${a}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&a)return{uri:`${s}/${a}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Eu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new $r({uri:e})}function li(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new gu({data:e});return e.image||e.image_url||e.image_data}async function Iu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Sr({gatewayUrls:e,uri:li(n)})}catch{throw new $r({uri:t})}}async function Sr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=di({uri:t,gatewayUrls:e});if(r||await Bu(n))return n;throw new $r({uri:t})}function Au(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[c,a]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new dt({reason:"Only EIP-155 supported"});if(!i)throw new dt({reason:"Chain ID not found"});if(!a)throw new dt({reason:"Contract address not found"});if(!s)throw new dt({reason:"Token ID not found"});if(!c)throw new dt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:c.toLowerCase(),contractAddress:a,tokenID:s}}async function $u(e,{nft:t}){if(t.namespace==="erc721")return le(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return le(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new wu({namespace:t.namespace})}async function Su(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Tu(e,{gatewayUrls:t,record:n}):Sr({uri:n,gatewayUrls:t})}async function Tu(e,{gatewayUrls:t,record:n}){const r=Au(n),s=await $u(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:c}=di({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Sr({uri:li(f),gatewayUrls:t})}let a=r.tokenID;return r.namespace==="erc1155"&&(a=a.replace("0x","").padStart(64,"0")),Iu({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,a)})}async function bi(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Ys,args:[ke(Ar(o)),he({abi:rs,functionName:"text",args:[Vn(o),s]}),i??[on]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await O(e,le,"readContract")(d);if(b[0]==="0x")return null;const p=De({abi:rs,functionName:"text",data:b[0]});return p===""?null:p}catch(d){if(c)throw d;if(Ir(d))return null;throw d}}async function Nu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:c}){const a=await O(e,bi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:i});if(!a)return null;try{return await Su(e,{record:a,gatewayUrls:r})}catch{return null}}async function ku(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:sa,args:[n,o,i??[on]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=O(e,le,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(Ir(f))return null;throw f}}async function Fu(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),c=o?.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[a]=await O(e,le,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ke(Ar(s))],blockNumber:n,blockTag:r});return a}async function hi(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...p}=t,m=n?ne(n):void 0;try{ot(t);const w=(typeof r=="bigint"?T(r):void 0)||s,v=e.chain?.formatters?.transactionRequest?.format,h=(v||st)({...Zt(p,{format:v}),account:m,blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[h,w]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(x){throw ai(x,{...t,account:m,chain:e.chain})}}async function zu(e){const t=Dt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function pi(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:c}={}){const a=s??(r?[r]:void 0),u=Dt(e,{method:"eth_newFilter"});let f=[];a&&(f=[a.flatMap(b=>Pt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?T(o):o,toBlock:typeof c=="bigint"?T(c):c,...f.length?{topics:f}:{}}]});return{abi:a,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:c,type:"event"}}async function mi(e){const t=Dt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Ru(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Cu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ou(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ie(o)}async function Dn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class _u extends L{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Lu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,c,a,u,f,d]=await O(e,le,"readContract")({abi:Mu,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(a),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new _u({address:n}):i}}const Mu=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Uu(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Gu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?T(n):void 0,i=await e.request({method:"eth_feeHistory",params:[T(t),o||r,s]},{dedupe:!!o});return Uu(i)}async function ju(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>$e(o));return t.abi?gr({abi:t.abi,logs:s,strict:n}):s}function kl(e,t){if(e.length!==t.length)throw new va({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(yi(s,o))}return be(n)}function yi(e,t,n=!1){if(e==="address"){const i=t;if(!ae(i))throw new de({address:i});return pn(i.toLowerCase(),{size:n?32:null})}if(e==="string")return oa(t);if(e==="bytes")return t;if(e==="bool")return pn(ia(t),{size:n?32:1});const r=e.match(Pa);if(r){const[i,c,a="256"]=r,u=Number.parseInt(a,10)/8;return T(t,{size:n?32:u,signed:c==="int"})}const s=e.match(Ea);if(s){const[i,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new Ba({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return pn(t,{dir:"right",size:n?32:null})}const o=e.match(Ia);if(o&&Array.isArray(t)){const[i,c]=o,a=[];for(let u=0;u<t.length;u++)a.push(yi(c,t[u],!0));return a.length===0?"0x":be(a)}throw new Aa(e)}function Vu(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ae(s))throw new de({address:s});if(r<0)throw new tn({chainId:r})}Tr(e)}function Du(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Uo;for(const n of t){const r=Ne(n),s=ie(ht(n,0,1));if(r!==32)throw new ac({hash:n,size:r});if(s!==Mo)throw new cc({hash:n,version:s})}}Tr(e)}function Tr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new tn({chainId:t});if(s&&!ae(s))throw new de({address:s});if(r&&r>Yt)throw new et({maxFeePerGas:r});if(n&&r&&n>r)throw new zt({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Hu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new tn({chainId:t});if(o&&!ae(o))throw new de({address:o});if(n||s)throw new L("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Yt)throw new et({maxFeePerGas:r})}function qu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!ae(o))throw new de({address:o});if(typeof t<"u"&&t<=0)throw new tn({chainId:t});if(n||s)throw new L("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Yt)throw new et({maxFeePerGas:r})}function an(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new _0({storageKey:s[o]});if(!ae(r,{strict:!1}))throw new de({address:r});t.push([r,s])}return t}function Fl(e,t){const n=jo(e);return n==="eip1559"?Yu(e,t):n==="eip2930"?Ku(e,t):n==="eip4844"?Wu(e,t):n==="eip7702"?Zu(e,t):Ju(e,t)}function Zu(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Vu(e);const l=an(f),b=Xu(n);return be(["0x04",Le([T(r),o?T(o):"0x",u?T(u):"0x",a?T(a):"0x",s?T(s):"0x",i??"0x",c?T(c):"0x",d??"0x",l,b,...At(e,t)])])}function Wu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Du(e);let l=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof b>"u")){const g=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>q(P)),h=e.kzg,y=br({blobs:g,kzg:h});if(typeof l>"u"&&(l=Oo({commitments:y})),typeof b>"u"){const P=hr({blobs:g,commitments:y,kzg:h});b=Go({blobs:g,commitments:y,proofs:P})}}const p=an(f),m=[T(n),s?T(s):"0x",u?T(u):"0x",a?T(a):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",d??"0x",p,c?T(c):"0x",l??[],...At(e,t)],x=[],w=[],v=[];if(b)for(let g=0;g<b.length;g++){const{blob:h,commitment:y,proof:P}=b[g];x.push(h),w.push(y),v.push(P)}return be(["0x03",Le(b?[m,x,w,v]:m)])}function Yu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:a,accessList:u,data:f}=e;Tr(e);const d=an(u),l=[T(n),s?T(s):"0x",a?T(a):"0x",c?T(c):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",f??"0x",d,...At(e,t)];return be(["0x02",Le(l)])}function Ku(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:c,accessList:a,gasPrice:u}=e;Hu(e);const f=an(a),d=[T(n),o?T(o):"0x",u?T(u):"0x",r?T(r):"0x",i??"0x",c?T(c):"0x",s??"0x",f,...At(e,t)];return be(["0x01",Le(d)])}function Ju(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:c,gasPrice:a}=e;qu(e);let u=[o?T(o):"0x",a?T(a):"0x",r?T(r):"0x",i??"0x",c?T(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new C0({v:t.v});return b})(),d=Be(t.r),l=Be(t.s);u=[...u,T(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,T(n),"0x","0x"]);return Le(u)}function At(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Be(n.r),i=Be(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Xu(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?ke(r):"0x",i,s?ke(s):"0x",...At({},o)])}return t}async function Qu({address:e,authorization:t,signature:n}){return Jt(io(e),await To({authorization:t,signature:n}))}function zl(e){const{source:t}=e,n=new Map,r=new Zs(8192),s=new Map,o=({address:i,chainId:c})=>`${i}.${c}`;return{async consume({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c}),f=this.get({address:i,chainId:c,client:a});this.increment({address:i,chainId:c});const d=await f;return await t.set({address:i,chainId:c},d),r.set(u,d),d},async increment({address:i,chainId:c}){const a=o({address:i,chainId:c}),u=n.get(a)??0;n.set(a,u+1)},async get({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:i,chainId:c,client:a}),b=r.get(u)??0;return b>0&&l<=b?b+1:(r.delete(u),l)}finally{this.reset({address:i,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:i,chainId:c}){const a=o({address:i,chainId:c});n.delete(a),s.delete(a)}}}const ef="0x6492649264926492649264926492649264926492649264926492649264926492";class tf extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const nf={checksum:new tf(8192)},En=nf.checksum;function Nr(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=aa(Yo(e));return n==="Bytes"?r:Q(r)}function Rl(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Co(Yo(e));return n==="Bytes"?r:Q(r)}function Cl(e){return vr(e)&&Y(e)===32}function gi(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:o}=e;if(n===!1||typeof s=="bigint"&&typeof o=="bigint"){if(r!==4)throw new Ns({prefix:r,cause:new af});return}if(n===!0||typeof s=="bigint"&&typeof o>"u"){if(r!==3&&r!==2)throw new Ns({prefix:r,cause:new of});return}throw new sf({publicKey:e})}function Ol(e){const t=(()=>{if(vr(e))return wi(e);if(zc(e))return rf(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return gi(t),t}function rf(e){return wi(Q(e))}function wi(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new cf({publicKey:e});if(e.length===130){const r=BigInt(H(e,0,32)),s=BigInt(H(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(H(e,0,1)),s=BigInt(H(e,1,33)),o=BigInt(H(e,33,65));return{prefix:r,x:s,y:o}}const t=Number(H(e,0,1)),n=BigInt(H(e,1,33));return{prefix:t,x:n}}function _l(e,t={}){return en(xi(e,t))}function xi(e,t={}){gi(e);const{prefix:n,x:r,y:s}=e,{includePrefix:o=!0}=t;return re(o?j(n,{size:1}):"0x",j(r,{size:32}),typeof s=="bigint"?j(s,{size:32}):"0x")}class sf extends _{constructor({publicKey:t}){super(`Value \`${Qt(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Ns extends _{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class of extends _{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class af extends _{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let cf=class extends _{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Y(Xo(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const uf=/^0x[a-fA-F0-9]{40}$/;function Ge(e,t={}){const{strict:n=!0}=t;if(!uf.test(e))throw new ks({address:e,cause:new df});if(n){if(e.toLowerCase()===e)return;if(kr(e)!==e)throw new ks({address:e,cause:new lf})}}function kr(e){if(En.has(e))return En.get(e);Ge(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Nr(Ac(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return En.set(e,s),s}function ff(e,t={}){const{checksum:n=!1}=t;return Ge(e),n?kr(e):e}function Ml(e,t={}){const n=Nr(`0x${xi(e).slice(4)}`).substring(26);return ff(`0x${n}`,t)}function Ul(e,t){return Ge(e,{strict:!1}),Ge(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function Hn(e,t={}){const{strict:n=!0}=t??{};try{return Ge(e,{strict:n}),!0}catch{return!1}}class ks extends _{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class df extends _{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class lf extends _{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const bf=/^(.*)\[([0-9]*)\]$/,hf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fs=2n**256n-1n;function Xe(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Rr(t.type);if(o){const[i,c]=o;return mf(e,{...t,type:c},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return xf(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return pf(e,{checksum:r});if(t.type==="bool")return yf(e);if(t.type.startsWith("bytes"))return gf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return wf(e,t);if(t.type==="string")return vf(e,{staticPosition:s});throw new Or(t.type)}const zs=32,qn=32;function pf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?kr(o):o)(Q(Tc(r,-20))),32]}function mf(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const a=Ee(e.readBytes(qn)),u=o+a,f=u+zs;e.setPosition(u);const d=Ee(e.readBytes(zs)),l=mt(t);let b=0;const p=[];for(let m=0;m<d;++m){e.setPosition(f+(l?m*32:b));const[x,w]=Xe(e,t,{checksumAddress:r,staticPosition:f});b+=w,p.push(x)}return e.setPosition(o+32),[p,32]}if(mt(t)){const a=Ee(e.readBytes(qn)),u=o+a,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Xe(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const c=[];for(let a=0;a<s;++a){const[u,f]=Xe(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,c.push(u)}return[c,i]}function yf(e){return[kc(e.readBytes(32),{size:32}),32]}function gf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ee(e.readBytes(32));e.setPosition(n+i);const c=Ee(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[Q(a),32]}return[Q(e.readBytes(Number.parseInt(s,10),32)),32]}function wf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Nc(s,{signed:n}):Ee(s,{signed:n}),32]}function xf(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:a})=>!a),i=o?[]:{};let c=0;if(mt(t)){const a=Ee(e.readBytes(qn)),u=s+a;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,b]=Xe(e,d,{checksumAddress:r,staticPosition:u});c+=b,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let a=0;a<t.components.length;++a){const u=t.components[a],[f,d]=Xe(e,u,{checksumAddress:r,staticPosition:s});i[o?a:u?.name]=f,c+=d}return[i,c]}function vf(e,{staticPosition:t}){const n=Ee(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ee(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Fc(Ko(o));return e.setPosition(t+32),[i,32]}function Pf({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Fr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Fr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Rr(r.type);if(s){const[o,i]=s;return Bf(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Tf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Ef(n,{checksum:e});if(r.type==="bool")return Af(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=vi.exec(r.type)??[];return $f(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return If(n,{type:r.type});if(r.type==="string")return Sf(n);throw new Or(r.type)}function zr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?t+=32:t+=Y(c)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?(n.push(j(t+s,{size:32})),r.push(c),s+=Y(c)):n.push(c)}return re(...n,...r)}function Ef(e,t){const{checksum:n=!1}=t;return Ge(e,{strict:n}),{dynamic:!1,encoded:Me(e.toLowerCase())}}function Bf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Lf(e);if(!o&&e.length!==r)throw new _f({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const c=[];for(let a=0;a<e.length;a++){const u=Fr({checksumAddress:n,parameter:s,value:e[a]});u.dynamic&&(i=!0),c.push(u)}if(o||i){const a=zr(c);if(o){const u=j(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?re(u,a):u}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:re(...c.map(({encoded:a})=>a))}}function If(e,{type:t}){const[,n]=t.split("bytes"),r=Y(e);if(!n){let s=e;return r%32!==0&&(s=Ue(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:re(Me(j(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Ei({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ue(e)}}function Af(e){if(typeof e!="boolean")throw new _(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Me(Qo(e))}}function $f(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ni({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function Sf(e){const t=xr(e),n=Math.ceil(Y(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ue(H(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:re(Ue(j(Y(t),{size:32})),...r)}}function Tf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const c=r.components[i],a=Array.isArray(e)?i:c.name,u=Fr({checksumAddress:n,parameter:c,value:e[a]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?zr(o):re(...o.map(({encoded:i})=>i))}}function Rr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function mt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(mt);const n=Rr(e.type);return!!(n&&mt({...e,type:n[1]}))}const Nf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new zf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ff({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Rs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Rs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function kf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Nf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Rs extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ff extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class zf extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Rf(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?en(t):t,i=kf(o);if(Ye(o)===0&&e.length>0)throw new Of;if(Ye(o)&&Ye(o)<32)throw new Cf({data:typeof t=="string"?t:Q(t),parameters:e,size:Ye(o)});let c=0;const a=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(c);const[d,l]=Xe(i,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?a.push(d):a[f.name??u]=d}return a}function Cr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Bi({expectedLength:e.length,givenLength:t.length});const s=Pf({checksumAddress:r,parameters:e,values:t}),o=zr(s);return o.length===0?"0x":o}function Zn(e,t){if(e.length!==t.length)throw new Bi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Zn.encode(s,o))}return re(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const a=r;return Ge(a),Me(a.toLowerCase(),s?32:0)}if(n==="string")return xr(r);if(n==="bytes")return r;if(n==="bool")return Me(Qo(r),s?32:1);const o=n.match(vi);if(o){const[a,u,f="256"]=o,d=Number.parseInt(f,10)/8;return j(r,{size:s?32:d,signed:u==="int"})}const i=n.match(hf);if(i){const[a,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Ei({expectedSize:Number.parseInt(u,10),value:r});return Ue(r,s?32:0)}const c=n.match(bf);if(c&&Array.isArray(r)){const[a,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":re(...f)}throw new Or(n)}e.encode=t})(Zn||(Zn={}));function Pi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ds(e):e}class Cf extends _{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${$a(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Of extends _{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class _f extends _{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ei extends _{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Y(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Bi extends _{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Lf extends _{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Or extends _{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function _r(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Bn({signature:e});if(typeof e.s>"u")throw new Bn({signature:e});if(n&&typeof e.yParity>"u")throw new Bn({signature:e});if(e.r<0n||e.r>Fs)throw new qf({value:e.r});if(e.s<0n||e.s>Fs)throw new Zf({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new cn({value:e.yParity})}function Mf(e){return Ii(Q(e))}function Ii(e){if(e.length!==130&&e.length!==132)throw new Hf({signature:e});const t=BigInt(H(e,0,32)),n=BigInt(H(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Lr(s)}catch{throw new cn({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Uf(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Ai(e)}function Ai(e){const t=typeof e=="string"?Ii(e):e instanceof Uint8Array?Mf(e):typeof e.r=="string"?jf(e):e.v?Gf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return _r(t),t}function Gf(e){return{r:e.r,s:e.s,yParity:Lr(e.v)}}function jf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Lr(n)),typeof r!="number")throw new cn({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Gl(e){const[t,n,r]=e;return Ai({r:n==="0x"?0n:BigInt(n),s:r==="0x"?0n:BigInt(r),yParity:t==="0x"?0:Number(t)})}function jl(e){_r(e);const t=e.r,n=e.s;return re(j(t,{size:32}),j(n,{size:32}),typeof e.yParity=="number"?j(Df(e.yParity),{size:1}):"0x")}function Vf(e){const{r:t,s:n,yParity:r}=e;return{r:j(t,{size:32}),s:j(n,{size:32}),yParity:r===0?"0x0":"0x1"}}function Vl(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":Bs(j(t)),n===0n?"0x":Bs(j(n))]}function Lr(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Wf({value:e})}function Df(e){if(e===0)return 27;if(e===1)return 28;throw new cn({value:e})}class Hf extends _{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Y(Xo(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Bn extends _{constructor({signature:t}){super(`Signature \`${Qt(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class qf extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Zf extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class cn extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Wf extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Yf(e,t={}){return typeof e.chainId=="string"?$i(e):{...e,...t.signature}}function $i(e){const{address:t,chainId:n,nonce:r}=e,s=Uf(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function Dl(e){return e.map($i)}function Kf(e){const{address:t,chainId:n,nonce:r,...s}=e;return{address:t,chainId:j(n),nonce:j(r),...Vf(s)}}function Hl(e){return e.map(Kf)}const Jf="0x8010801080108010801080108010801080108010801080108010801080108010",Xf=Pi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Si(e){if(typeof e=="string"){if(H(e,-32)!==Jf)throw new td(e)}else _r(e.authorization)}function Qf(e){Si(e);const t=ti(H(e,-64,-32)),n=H(e,-t-64,-64),r=H(e,0,-t-64),[s,o,i]=Rf(Xf,n);return{authorization:Yf({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function ed(e){try{return Si(e),!0}catch{return!1}}let td=class extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Zl(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=be([xt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),ef]);return s==="hex"?o:Ie(o)}class nd extends L{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Wl(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new nd({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,i,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],a=Math.round(+`${i}.${c}`);a>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${a}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function rd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function sd(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ie(e.nonce):void 0,storageProof:e.storageProof?rd(e.storageProof):void 0}}async function od(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?T(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||o]});return sd(c)}async function id(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?T(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Mr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:c}){const a=r||"latest",u=n!==void 0?T(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||a,T(o)]},{dedupe:!!u}):i&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,T(c)]},{dedupe:!0})),!f)throw new Po({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Kt)(f,"getTransaction")}async function ad(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([O(e,It,"getBlockNumber")({}),t?O(e,Mr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Ft(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Eo({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Br)(n,"getTransactionReceipt")}async function cd(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:a}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return at({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let p=0,m=0;for(let v=0;v<u.length;v++){const{abi:g,address:h,args:y,functionName:P}=u[v];try{const E=he({abi:g,args:y,functionName:P});m+=(E.length-2)/2,f>0&&m>f&&b[p].length>0&&(p++,m=(E.length-2)/2,b[p]=[]),b[p]=[...b[p],{allowFailure:!0,callData:E,target:h}]}catch(E){const I=tt(E,{abi:g,address:h,args:y,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw I;b[p]=[...b[p],{allowFailure:!0,callData:"0x",target:h}]}}const x=await Promise.allSettled(b.map(v=>O(e,le,"readContract")({...l===null?{code:Pr}:{address:l},abi:Rt,account:n,args:[v],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:a}))),w=[];for(let v=0;v<x.length;v++){const g=x[v];if(g.status==="rejected"){if(!s)throw g.reason;for(let y=0;y<b[v].length;y++)w.push({status:"failure",error:g.reason,result:void 0});continue}const h=g.value;for(let y=0;y<h.length;y++){const{returnData:P,success:E}=h[y],{callData:I}=b[v][y],{abi:k,address:B,functionName:N,args:R}=u[w.length];try{if(I==="0x")throw new vt;if(!E)throw new Ht({data:P});const F=De({abi:k,args:R,data:P,functionName:N});w.push(s?{result:F,status:"success"}:F)}catch(F){const U=tt(F,{abi:k,address:B,args:R,docsPath:"/docs/contract/multicall",functionName:N});if(!s)throw U;w.push({error:U,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new L("multicall results mismatch");return w}async function Wn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:c}=t;try{const a=[];for(const l of s){const b=l.blockOverrides?si(l.blockOverrides):void 0,p=l.calls.map(x=>{const w=x,v=w.account?ne(w.account):void 0,g=w.abi?he(w):w.data,h={...w,account:v,data:w.dataSuffix?oo([g||"0x",w.dataSuffix]):g,from:w.from??v?.address};return ot(h),st(h)}),m=l.stateOverrides?ur(l.stateOverrides):void 0;a.push({blockOverrides:b,calls:p,stateOverrides:m})}const f=(typeof n=="bigint"?T(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:a,returnFullTransactions:o,traceTransfers:i,validation:c},f]})).map((l,b)=>({...dr(l),calls:l.calls.map((p,m)=>{const{abi:x,args:w,functionName:v,to:g}=s[b].calls[m],h=p.error?.data??p.returnData,y=BigInt(p.gasUsed),P=p.logs?.map(B=>$e(B)),E=p.status==="0x1"?"success":"failure",I=x&&E==="success"&&h!=="0x"?De({abi:x,data:h,functionName:v}):null,k=(()=>{if(E==="success")return;let B;if(h==="0x"?B=new vt:h&&(B=new Ht({data:h})),!!B)return tt(B,{abi:x??[],address:g??"0x",args:w,functionName:v??"<unknown>"})})();return{data:h,gasUsed:y,logs:P,status:E,...E==="success"?{result:I}:{error:k}}})}))}catch(a){const u=a,f=qt(u,{});throw f instanceof wt?u:f}}function Yn(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const c=e[i];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){o=!0;break}continue}if(c===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!o)throw new _("Unable to normalize signature.");return s}function Kn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Hn(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Kn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Kn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ti(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ti(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Hn(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Hn(n[r],{strict:!1}):!1)return i}}function Ni(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?fs(e):e;return{...r,...n?{hash:Ke(r)}:{}}}function un(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=vr(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?ki(u)===H(t,0,4):u.type==="event"?Ke(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Lt({name:t});if(i.length===1)return{...i[0],...s?{hash:Ke(i[0])}:{}};let c;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ke(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?Kn(d,b):!1})){if(c&&"inputs"in c&&c.inputs){const d=Ti(u.inputs,c.inputs,r);if(d)throw new fd({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const a=(()=>{if(c)return c;const[u,...f]=i;return{...u,overloads:f}})();if(!a)throw new Lt({name:t});return{...a,...s?{hash:Ke(a)}:{}}}function ki(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return un(n,r)}return e[0]})();return H(Ke(t),0,4)}function ud(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return un(r,s)}return e[0]})(),n=typeof t=="string"?t:Cn(t);return Yn(n)}function Ke(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return un(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Nr(xr(ud(t)))}class fd extends _{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Yn(Cn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Yn(Cn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Lt extends _{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function dd(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[bd(o),i]}return e})(),{bytecode:r,args:s}=n;return re(r,t.inputs?.length&&s?.length?Cr(t.inputs,s):"0x")}function ld(e){return Ni(e)}function bd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Lt({name:"constructor"});return t}function hd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Cs(u,f,{args:d}),d]}const[c,a]=e;return[c,a]})(),{overloads:r}=t,s=r?Cs([t,...r],t.name,{args:n}):t,o=pd(s),i=n.length>0?Cr(s.inputs,n):void 0;return i?re(o,i):o}function We(e,t={}){return Ni(e,t)}function Cs(e,t,n){const r=un(e,t,n);if(r.type!=="function")throw new Lt({name:t,type:"function"});return r}function pd(e){return ki(e)}const md="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",pe="0x0000000000000000000000000000000000000000",yd="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function gd(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:c,validation:a}=t,u=t.account?ne(t.account):void 0;if(i&&!u)throw new L("`account` is required when `traceAssetChanges` is true");const f=u?dd(ld("constructor(bytes, bytes)"),{bytecode:oi,args:[yd,hd(We("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:z}=await hi(e,{account:u.address,...S,data:S.abi?he(S):S.data});return z.map(({address:M,storageKeys:G})=>G.length>0?M:null)})).then(S=>S.flat().filter(Boolean)):[],l=await Wn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((S,z)=>({abi:[We("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:pe,nonce:z})),stateOverrides:[{address:pe,nonce:0}]}]:[],{calls:[...s,{}].map(S=>({...S,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((S,z)=>({abi:[We("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:pe,nonce:z})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((S,z)=>({to:S,abi:[We("function decimals() returns (uint256)")],functionName:"decimals",from:pe,nonce:z})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((S,z)=>({to:S,abi:[We("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:pe,nonce:z})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((S,z)=>({to:S,abi:[We("function symbol() returns (string)")],functionName:"symbol",from:pe,nonce:z})),stateOverrides:[{address:pe,nonce:0}]}]:[]],traceTransfers:c,validation:a}),b=i?l[2]:l[0],[p,m,,x,w,v,g,h]=i?l:[],{calls:y,...P}=b,E=y.slice(0,-1)??[],I=p?.calls??[],k=m?.calls??[],B=[...I,...k].map(S=>S.status==="success"?fe(S.data):null),N=x?.calls??[],R=w?.calls??[],F=[...N,...R].map(S=>S.status==="success"?fe(S.data):null),U=(v?.calls??[]).map(S=>S.status==="success"?S.result:null),$=(h?.calls??[]).map(S=>S.status==="success"?S.result:null),A=(g?.calls??[]).map(S=>S.status==="success"?S.result:null),C=[];for(const[S,z]of F.entries()){const M=B[S];if(typeof z!="bigint"||typeof M!="bigint")continue;const G=U[S-1],V=$[S-1],ce=A[S-1],K=S===0?{address:md,decimals:18,symbol:"ETH"}:{address:d[S-1],decimals:ce||G?Number(G??1):void 0,symbol:V??void 0};C.some(Z=>Z.token.address===K.address)||C.push({token:K,value:{pre:M,post:z,diff:z-M}})}return{assetChanges:C,block:P,results:E}}const Fi="0x6492649264926492649264926492649264926492649264926492649264926492";function wd(e){if(H(e,-32)!==Fi)throw new Pd(e)}function xd(e){const{data:t,signature:n,to:r}=e;return re(Cr(Pi("address, bytes, bytes"),[r,t,n]),Fi)}function vd(e){try{return wd(e),!0}catch{return!1}}class Pd extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}const Ur=BigInt(0),Jn=BigInt(1);function $t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gr(e){if(!$t(e))throw new Error("Uint8Array expected")}function yt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function kt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function zi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ur:BigInt("0x"+e)}const Ri=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ed=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gt(e){if(Gr(e),Ri)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Ed[e[n]];return t}const we={_0:48,_9:57,A:65,F:70,a:97,f:102};function Os(e){if(e>=we._0&&e<=we._9)return e-we._0;if(e>=we.A&&e<=we.F)return e-(we.A-10);if(e>=we.a&&e<=we.f)return e-(we.a-10)}function Mt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ri)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Os(e.charCodeAt(o)),c=Os(e.charCodeAt(o+1));if(i===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}r[s]=i*16+c}return r}function Oe(e){return zi(gt(e))}function Ci(e){return Gr(e),zi(gt(Uint8Array.from(e).reverse()))}function St(e,t){return Mt(e.toString(16).padStart(t*2,"0"))}function Oi(e,t){return St(e,t).reverse()}function oe(e,t,n){let r;if(typeof t=="string")try{r=Mt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if($t(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ut(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Gr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const In=e=>typeof e=="bigint"&&Ur<=e;function jr(e,t,n){return In(e)&&In(t)&&In(n)&&t<=e&&e<n}function Qe(e,t,n,r){if(!jr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Bd(e){let t;for(t=0;e>Ur;e>>=Jn,t+=1);return t}const fn=e=>(Jn<<BigInt(e))-Jn,An=e=>new Uint8Array(e),_s=e=>Uint8Array.from(e);function Id(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=An(e),s=An(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),a=(d=An(0))=>{s=c(_s([0]),d),r=c(),d.length!==0&&(s=c(_s([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const b=r.slice();l.push(b),d+=r.length}return Ut(...l)};return(d,l)=>{i(),a(d);let b;for(;!(b=l(u()));)a();return i(),b}}const Ad={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$t(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function dn(e,t,n={}){const r=(s,o,i)=>{const c=Ad[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[s];if(!(i&&a===void 0)&&!c(a,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+a)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Ls(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const X=BigInt(0),W=BigInt(1),Ce=BigInt(2),$d=BigInt(3),_i=BigInt(4),Li=BigInt(5),Mi=BigInt(8);function J(e,t){const n=e%t;return n>=X?n:t+n}function se(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function Xn(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=J(e,t),r=t,s=X,o=W;for(;n!==X;){const c=r/n,a=r%n,u=s-o*c;r=n,n=a,s=o,o=u}if(r!==W)throw new Error("invert: does not exist");return J(s,t)}function Ui(e,t){const n=(e.ORDER+W)/_i,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Sd(e,t){const n=(e.ORDER-Li)/Mi,r=e.mul(t,Ce),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Ce),s),c=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function Td(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-W,n=0;for(;t%Ce===X;)t/=Ce,n++;let r=Ce;const s=Vr(e);for(;Ms(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Ui;let o=s.pow(r,t);const i=(t+W)/Ce;return function(a,u){if(a.is0(u))return u;if(Ms(a,u)!==1)throw new Error("Cannot find square root");let f=n,d=a.mul(a.ONE,o),l=a.pow(u,t),b=a.pow(u,i);for(;!a.eql(l,a.ONE);){if(a.is0(l))return a.ZERO;let p=1,m=a.sqr(l);for(;!a.eql(m,a.ONE);)if(p++,m=a.sqr(m),p===f)throw new Error("Cannot find square root");const x=W<<BigInt(f-p-1),w=a.pow(d,x);f=p,d=a.sqr(w),l=a.mul(l,d),b=a.mul(b,w)}return b}}function Nd(e){return e%_i===$d?Ui:e%Mi===Li?Sd:Td(e)}const kd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fd(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kd.reduce((r,s)=>(r[s]="function",r),t);return dn(e,n)}function zd(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===W)return t;let r=e.ONE,s=t;for(;n>X;)n&W&&(r=e.mul(r,s)),s=e.sqr(s),n>>=W;return r}function Gi(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,c,a)=>e.is0(c)?i:(r[a]=i,e.mul(i,c)),e.ONE),o=e.inv(s);return t.reduceRight((i,c,a)=>e.is0(c)?i:(r[a]=e.mul(i,r[a]),e.mul(i,c)),o),r}function Ms(e,t){const n=(e.ORDER-W)/Ce,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function ji(e,t){t!==void 0&&ca(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Vr(e,t,n=!1,r={}){if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=ji(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:fn(s),ZERO:X,ONE:W,create:a=>J(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return X<=a&&a<e},is0:a=>a===X,isOdd:a=>(a&W)===W,neg:a=>J(-a,e),eql:(a,u)=>a===u,sqr:a=>J(a*a,e),add:(a,u)=>J(a+u,e),sub:(a,u)=>J(a-u,e),mul:(a,u)=>J(a*u,e),pow:(a,u)=>zd(c,a,u),div:(a,u)=>J(a*Xn(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>Xn(a,e),sqrt:r.sqrt||(a=>(i||(i=Nd(e)),i(c,a))),toBytes:a=>n?Oi(a,o):St(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return n?Ci(a):Oe(a)},invertBatch:a=>Gi(c,a),cmov:(a,u,f)=>f?u:a});return Object.freeze(c)}function Vi(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Di(e){const t=Vi(e);return t+Math.ceil(t/2)}function Rd(e,t,n=!1){const r=e.length,s=Vi(t),o=Di(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Ci(e):Oe(e),c=J(i,t-W)+W;return n?Oi(c,s):St(c,s)}const Us=BigInt(0),Qn=BigInt(1);function $n(e,t){const n=t.negate();return e?n:t}function Hi(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Sn(e,t){Hi(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=fn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Gs(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let c=Number(e&s),a=e>>i;c>r&&(c-=o,a+=Qn);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,b=t%2!==0;return{nextN:a,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function Cd(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Od(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Tn=new WeakMap,qi=new WeakMap;function Nn(e){return qi.get(e)||1}function _d(e,t){return{constTimeNegate:$n,hasPrecomputes(n){return Nn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Us;)r&Qn&&(s=s.add(o)),o=o.double(),r>>=Qn;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Sn(r,t),i=[];let c=n,a=c;for(let u=0;u<s;u++){a=c,i.push(a);for(let f=1;f<o;f++)a=a.add(c),i.push(a);c=a.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const c=Sn(n,t);for(let a=0;a<c.windows;a++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:p}=Gs(s,a,c);s=u,d?i=i.add($n(b,r[p])):o=o.add($n(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Sn(n,t);for(let c=0;c<i.windows&&s!==Us;c++){const{nextN:a,offset:u,isZero:f,isNeg:d}=Gs(s,c,i);if(s=a,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Tn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Tn.set(r,s(o))),o},wNAFCached(n,r,s){const o=Nn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Nn(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Hi(r,t),qi.set(n,r),Tn.delete(n)}}}function Ld(e,t,n,r){Cd(n,e),Od(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,c=Bd(BigInt(s));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const u=fn(a),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/a)*a;let l=i;for(let b=d;b>=0;b-=a){f.fill(i);for(let m=0;m<o;m++){const x=r[m],w=Number(x>>BigInt(b)&u);f[w]=f[w].add(n[m])}let p=i;for(let m=f.length-1,x=i;m>0;m--)x=x.add(f[m]),p=p.add(x);if(l=l.add(p),b!==0)for(let m=0;m<a;m++)l=l.double()}return l}function Zi(e){return Fd(e.Fp),dn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ji(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function js(e){e.lowS!==void 0&&yt("lowS",e.lowS),e.prehash!==void 0&&yt("prehash",e.prehash)}function Md(e){const t=Zi(e);dn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Ud extends Error{constructor(t=""){super(t)}}const xe={Err:Ud,_tlv:{encode:(e,t)=>{const{Err:n}=xe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=kt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?kt(s.length/2|128):"";return kt(e)+o+s+t},decode(e,t){const{Err:n}=xe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const a=s&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=a,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=xe;if(e<ve)throw new t("integer: negative integers are not allowed");let n=kt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=xe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Oe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=xe,s=oe("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,o),{v:u,l:f}=r.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=xe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function kn(e,t){return gt(St(e,t))}const ve=BigInt(0),D=BigInt(1);BigInt(2);const Fn=BigInt(3),Gd=BigInt(4);function jd(e){const t=Md(e),{Fp:n}=t,r=Vr(t.n,t.nBitLength),s=t.toBytes||((g,h,y)=>{const P=h.toAffine();return Ut(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(g=>{const h=g.subarray(1),y=n.fromBytes(h.subarray(0,n.BYTES)),P=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:y,y:P}});function i(g){const{a:h,b:y}=t,P=n.sqr(g),E=n.mul(P,g);return n.add(n.add(E,n.mul(g,h)),y)}function c(g,h){const y=n.sqr(h),P=i(g);return n.eql(y,P)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,Fn),Gd),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,u)))throw new Error("bad curve params: a or b");function f(g){return jr(g,D,t.n)}function d(g){const{allowedPrivateKeyLengths:h,nByteLength:y,wrapPrivateKey:P,n:E}=t;if(h&&typeof g!="bigint"){if($t(g)&&(g=gt(g)),typeof g!="string"||!h.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let I;try{I=typeof g=="bigint"?g:Oe(oe("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return P&&(I=J(I,E)),Qe("private key",I,D,E),I}function l(g){if(!(g instanceof m))throw new Error("ProjectivePoint expected")}const b=Ls((g,h)=>{const{px:y,py:P,pz:E}=g;if(n.eql(E,n.ONE))return{x:y,y:P};const I=g.is0();h==null&&(h=I?n.ONE:n.inv(E));const k=n.mul(y,h),B=n.mul(P,h),N=n.mul(E,h);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:k,y:B}}),p=Ls(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:h,y}=g.toAffine();if(!n.isValid(h)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!c(h,y))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(h,y,P){if(h==null||!n.isValid(h))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=h,this.py=y,this.pz=P,Object.freeze(this)}static fromAffine(h){const{x:y,y:P}=h||{};if(!h||!n.isValid(y)||!n.isValid(P))throw new Error("invalid affine point");if(h instanceof m)throw new Error("projective point not allowed");const E=I=>n.eql(I,n.ZERO);return E(y)&&E(P)?m.ZERO:new m(y,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const y=Gi(n,h.map(P=>P.pz));return h.map((P,E)=>P.toAffine(y[E])).map(m.fromAffine)}static fromHex(h){const y=m.fromAffine(o(oe("pointHex",h)));return y.assertValidity(),y}static fromPrivateKey(h){return m.BASE.multiply(d(h))}static msm(h,y){return Ld(m,r,h,y)}_setWindowSize(h){v.setWindowSize(this,h)}assertValidity(){p(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);const{px:y,py:P,pz:E}=this,{px:I,py:k,pz:B}=h,N=n.eql(n.mul(y,B),n.mul(I,E)),R=n.eql(n.mul(P,B),n.mul(k,E));return N&&R}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:y}=t,P=n.mul(y,Fn),{px:E,py:I,pz:k}=this;let B=n.ZERO,N=n.ZERO,R=n.ZERO,F=n.mul(E,E),U=n.mul(I,I),$=n.mul(k,k),A=n.mul(E,I);return A=n.add(A,A),R=n.mul(E,k),R=n.add(R,R),B=n.mul(h,R),N=n.mul(P,$),N=n.add(B,N),B=n.sub(U,N),N=n.add(U,N),N=n.mul(B,N),B=n.mul(A,B),R=n.mul(P,R),$=n.mul(h,$),A=n.sub(F,$),A=n.mul(h,A),A=n.add(A,R),R=n.add(F,F),F=n.add(R,F),F=n.add(F,$),F=n.mul(F,A),N=n.add(N,F),$=n.mul(I,k),$=n.add($,$),F=n.mul($,A),B=n.sub(B,F),R=n.mul($,U),R=n.add(R,R),R=n.add(R,R),new m(B,N,R)}add(h){l(h);const{px:y,py:P,pz:E}=this,{px:I,py:k,pz:B}=h;let N=n.ZERO,R=n.ZERO,F=n.ZERO;const U=t.a,$=n.mul(t.b,Fn);let A=n.mul(y,I),C=n.mul(P,k),S=n.mul(E,B),z=n.add(y,P),M=n.add(I,k);z=n.mul(z,M),M=n.add(A,C),z=n.sub(z,M),M=n.add(y,E);let G=n.add(I,B);return M=n.mul(M,G),G=n.add(A,S),M=n.sub(M,G),G=n.add(P,E),N=n.add(k,B),G=n.mul(G,N),N=n.add(C,S),G=n.sub(G,N),F=n.mul(U,M),N=n.mul($,S),F=n.add(N,F),N=n.sub(C,F),F=n.add(C,F),R=n.mul(N,F),C=n.add(A,A),C=n.add(C,A),S=n.mul(U,S),M=n.mul($,M),C=n.add(C,S),S=n.sub(A,S),S=n.mul(U,S),M=n.add(M,S),A=n.mul(C,M),R=n.add(R,A),A=n.mul(G,M),N=n.mul(z,N),N=n.sub(N,A),A=n.mul(z,C),F=n.mul(G,F),F=n.add(F,A),new m(N,R,F)}subtract(h){return this.add(h.negate())}is0(){return this.equals(m.ZERO)}wNAF(h){return v.wNAFCached(this,h,m.normalizeZ)}multiplyUnsafe(h){const{endo:y,n:P}=t;Qe("scalar",h,ve,P);const E=m.ZERO;if(h===ve)return E;if(this.is0()||h===D)return this;if(!y||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,h,m.normalizeZ);let{k1neg:I,k1:k,k2neg:B,k2:N}=y.splitScalar(h),R=E,F=E,U=this;for(;k>ve||N>ve;)k&D&&(R=R.add(U)),N&D&&(F=F.add(U)),U=U.double(),k>>=D,N>>=D;return I&&(R=R.negate()),B&&(F=F.negate()),F=new m(n.mul(F.px,y.beta),F.py,F.pz),R.add(F)}multiply(h){const{endo:y,n:P}=t;Qe("scalar",h,D,P);let E,I;if(y){const{k1neg:k,k1:B,k2neg:N,k2:R}=y.splitScalar(h);let{p:F,f:U}=this.wNAF(B),{p:$,f:A}=this.wNAF(R);F=v.constTimeNegate(k,F),$=v.constTimeNegate(N,$),$=new m(n.mul($.px,y.beta),$.py,$.pz),E=F.add($),I=U.add(A)}else{const{p:k,f:B}=this.wNAF(h);E=k,I=B}return m.normalizeZ([E,I])[0]}multiplyAndAddUnsafe(h,y,P){const E=m.BASE,I=(B,N)=>N===ve||N===D||!B.equals(E)?B.multiplyUnsafe(N):B.multiply(N),k=I(this,y).add(I(h,P));return k.is0()?void 0:k}toAffine(h){return b(this,h)}isTorsionFree(){const{h,isTorsionFree:y}=t;if(h===D)return!0;if(y)return y(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:y}=t;return h===D?this:y?y(m,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return yt("isCompressed",h),this.assertValidity(),s(m,this,h)}toHex(h=!0){return yt("isCompressed",h),gt(this.toRawBytes(h))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:x,nBitLength:w}=t,v=_d(m,x?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Vd(e){const t=Zi(e);return dn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Dd(e){const t=Vd(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,c=2*n.BYTES+1;function a($){return J($,r)}function u($){return Xn($,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=jd({...t,toBytes($,A,C){const S=A.toAffine(),z=n.toBytes(S.x),M=Ut;return yt("isCompressed",C),C?M(Uint8Array.from([A.hasEvenY()?2:3]),z):M(Uint8Array.from([4]),z,n.toBytes(S.y))},fromBytes($){const A=$.length,C=$[0],S=$.subarray(1);if(A===i&&(C===2||C===3)){const z=Oe(S);if(!jr(z,D,n.ORDER))throw new Error("Point is not on curve");const M=l(z);let G;try{G=n.sqrt(M)}catch(K){const Z=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+Z)}const V=(G&D)===D;return(C&1)===1!==V&&(G=n.neg(G)),{x:z,y:G}}else if(A===c&&C===4){const z=n.fromBytes(S.subarray(0,n.BYTES)),M=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:z,y:M}}else{const z=i,M=c;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+M+", got "+A)}}});function p($){const A=r>>D;return $>A}function m($){return p($)?a(-$):$}const x=($,A,C)=>Oe($.slice(A,C));class w{constructor(A,C,S){Qe("r",A,D,r),Qe("s",C,D,r),this.r=A,this.s=C,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(A){const C=s;return A=oe("compactSignature",A,C*2),new w(x(A,0,C),x(A,C,2*C))}static fromDER(A){const{r:C,s:S}=xe.toSig(oe("DER",A));return new w(C,S)}assertValidity(){}addRecoveryBit(A){return new w(this.r,this.s,A)}recoverPublicKey(A){const{r:C,s:S,recovery:z}=this,M=E(oe("msgHash",A));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const G=z===2||z===3?C+t.n:C;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(z&1)===0?"02":"03",ce=f.fromHex(V+kn(G,n.BYTES)),K=u(G),Z=a(-M*K),He=a(S*K),Te=f.BASE.multiplyAndAddUnsafe(ce,Z,He);if(!Te)throw new Error("point at infinify");return Te.assertValidity(),Te}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Mt(this.toDERHex())}toDERHex(){return xe.hexFromSig(this)}toCompactRawBytes(){return Mt(this.toCompactHex())}toCompactHex(){const A=s;return kn(this.r,A)+kn(this.s,A)}}const v={isValidPrivateKey($){try{return d($),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const $=Di(t.n);return Rd(t.randomBytes($),t.n)},precompute($=8,A=f.BASE){return A._setWindowSize($),A.multiply(BigInt(3)),A}};function g($,A=!0){return f.fromPrivateKey($).toRawBytes(A)}function h($){if(typeof $=="bigint")return!1;if($ instanceof f)return!0;const C=oe("key",$).length,S=n.BYTES,z=S+1,M=2*S+1;if(!(t.allowedPrivateKeyLengths||s===z))return C===z||C===M}function y($,A,C=!0){if(h($)===!0)throw new Error("first arg must be private key");if(h(A)===!1)throw new Error("second arg must be public key");return f.fromHex(A).multiply(d($)).toRawBytes(C)}const P=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const A=Oe($),C=$.length*8-o;return C>0?A>>BigInt(C):A},E=t.bits2int_modN||function($){return a(P($))},I=fn(o);function k($){return Qe("num < 2^"+o,$,ve,I),St($,s)}function B($,A,C=N){if(["recovered","canonical"].some(ze=>ze in C))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:z}=t;let{lowS:M,prehash:G,extraEntropy:V}=C;M==null&&(M=!0),$=oe("msgHash",$),js(C),G&&($=oe("prehashed msgHash",S($)));const ce=E($),K=d(A),Z=[k(K),k(ce)];if(V!=null&&V!==!1){const ze=V===!0?z(n.BYTES):V;Z.push(oe("extraEntropy",ze))}const He=Ut(...Z),Te=ce;function bn(ze){const qe=P(ze);if(!b(qe))return;const hn=u(qe),ut=f.BASE.multiply(qe).toAffine(),Re=a(ut.x);if(Re===ve)return;const ft=a(hn*a(Te+Re*K));if(ft===ve)return;let Ze=(ut.x===Re?0:2)|Number(ut.y&D),Hr=ft;return M&&p(ft)&&(Hr=m(ft),Ze^=1),new w(Re,Hr,Ze)}return{seed:He,k2sig:bn}}const N={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function F($,A,C=N){const{seed:S,k2sig:z}=B($,A,C),M=t;return Id(M.hash.outputLen,M.nByteLength,M.hmac)(S,z)}f.BASE._setWindowSize(8);function U($,A,C,S=R){const z=$;A=oe("msgHash",A),C=oe("publicKey",C);const{lowS:M,prehash:G,format:V}=S;if(js(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const ce=typeof z=="string"||$t(z),K=!ce&&!V&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!ce&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,He;try{if(K&&(Z=new w(z.r,z.s)),ce){try{V!=="compact"&&(Z=w.fromDER(z))}catch(Ze){if(!(Ze instanceof xe.Err))throw Ze}!Z&&V!=="der"&&(Z=w.fromCompact(z))}He=f.fromHex(C)}catch{return!1}if(!Z||M&&Z.hasHighS())return!1;G&&(A=t.hash(A));const{r:Te,s:bn}=Z,ze=E(A),qe=u(bn),hn=a(ze*qe),ut=a(Te*qe),Re=f.BASE.multiplyAndAddUnsafe(He,hn,ut)?.toAffine();return Re?a(Re.x)===Te:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:y,sign:F,verify:U,ProjectivePoint:f,Signature:w,utils:v}}function Hd(e){return{hash:e,hmac:(t,...n)=>fa(e,t,da(...n)),randomBytes:ua}}function qd(e,t){const n=r=>Dd({...e,...Hd(r)});return{...n(t),create:n}}const Wi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zd=BigInt(0),Wd=BigInt(1),er=BigInt(2),Ds=(e,t)=>(e+t/er)/t;function Yd(e){const t=Wi,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),a=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=se(f,n,t)*f%t,l=se(d,n,t)*f%t,b=se(l,er,t)*u%t,p=se(b,s,t)*b%t,m=se(p,o,t)*p%t,x=se(m,c,t)*m%t,w=se(x,a,t)*x%t,v=se(w,c,t)*m%t,g=se(v,n,t)*f%t,h=se(g,i,t)*p%t,y=se(h,r,t)*u%t,P=se(y,er,t);if(!tr.eql(tr.sqr(P),e))throw new Error("Cannot find square root");return P}const tr=Vr(Wi,void 0,void 0,{sqrt:Yd}),Dr=qd({a:Zd,b:BigInt(7),Fp:tr,n:Vs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Vs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Wd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=Ds(o*e,t),a=Ds(-r*e,t);let u=J(e-c*n-a*s,t),f=J(-c*r-a*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},qs),Kd=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Dr},Symbol.toStringTag,{value:"Module"}));function Jd({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Dr.Signature(fe(e),fe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ie(i)}async function ln(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const c=(()=>{const a=t.signature;return bt(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Jd(a):q(a)})();try{return ed(c)?await Xd(e,{...t,multicallAddress:i,signature:c}):await Qd(e,{...t,verifierAddress:o,signature:c})}catch(a){try{if(Jt(io(n),await Ao({hash:s,signature:c})))return!0}catch{}if(a instanceof je)return!1;throw a}}async function Xd(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:c,data:a,signature:u,to:f}=Qf(t.signature);if(await Dn(e,{address:n,blockNumber:r,blockTag:s})===be(["0xef0100",c.address]))return await el(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:T(c.r,{size:32}),s:T(c.s,{size:32}),yParity:c.yParity};if(!await Qu({address:n,authorization:l}))throw new je;const p=await O(e,le,"readContract")({...i?{address:i}:{code:Pr},authorizationList:[l],abi:Rt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...a?[{allowFailure:!0,target:f??n,callData:a}]:[],{allowFailure:!0,target:n,callData:he({abi:Ks,functionName:"isValidSignature",args:[o,u]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new je}async function Qd(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:c,...a}=t,u=await(async()=>!r&&!s||vd(i)?i:xd({data:s,signature:i,to:r}))(),f=c?{to:c,data:he({abi:ss,functionName:"isValidSig",args:[n,o,u]}),...a}:{data:Er({abi:ss,args:[n,o,u],bytecode:Hc}),...a},{data:d}=await O(e,nn,"call")(f).catch(l=>{throw l instanceof Bo?new je:l});if(la(d??"0x0"))return!0;throw new je}async function el(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await O(e,le,"readContract")({address:n,abi:Ks,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(a=>{throw a instanceof Io?new je:a})).startsWith("0x1626ba7e"))return!0;throw new je}class je extends Error{}async function tl(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const c=ao(n);return O(e,ln,"verifyHash")({address:t,factory:r,factoryData:s,hash:c,signature:o,...i})}async function nl(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:c,types:a,domain:u,...f}=t,d=Sa({message:i,primaryType:c,types:a,domain:u});return O(e,ln,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Yi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const c=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let a;return c?(()=>{const d=ye(["watchBlockNumber",e.uid,t,n,i]);return Se(d,{onBlockNumber:r,onError:s},l=>ct(async()=>{try{const b=await O(e,It,"getBlockNumber")({cacheTime:0});if(a!==void 0){if(b===a)return;if(b-a>1&&n)for(let p=a+1n;p<b;p++)l.onBlockNumber(p,a),a=p}(a===void 0||b>a)&&(l.onBlockNumber(b,a),a=b)}catch(b){l.onError?.(b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ye(["watchBlockNumber",e.uid,t,n]);return Se(d,{onBlockNumber:r,onError:s},l=>{let b=!0,p=()=>b=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await m.subscribe({params:["newHeads"],onData(w){if(!b)return;const v=fe(w.result?.number);l.onBlockNumber(v,a),a=v},onError(w){l.onError?.(w)}});p=x,b||p()}catch(m){s?.(m)}})(),()=>p()})})()}async function rl(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:c=({count:y})=>~~(1<<y)*200,timeout:a=18e4}=t,u=ye(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,b,p=!1,m,x;const{promise:w,resolve:v,reject:g}=Ws(),h=a?setTimeout(()=>{x?.(),m?.(),g(new U0({hash:s}))},a):void 0;return m=Se(u,{onReplaced:o,resolve:v,reject:g},async y=>{if(b=await O(e,Ft,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(h),y.resolve(b),m?.();return}x=O(e,Yi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(P){const E=k=>{clearTimeout(h),x?.(),k(),m?.()};let I=P;if(!p)try{if(b){if(r>1&&(!b.blockNumber||I-b.blockNumber+1n<r))return;E(()=>y.resolve(b));return}if(n&&!d&&(p=!0,await zn(async()=>{d=await O(e,Mr,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:c,retryCount:i}),p=!1),b=await O(e,Ft,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||I-b.blockNumber+1n<r))return;E(()=>y.resolve(b))}catch(k){if(k instanceof Po||k instanceof Eo){if(!d){p=!1;return}try{l=d,p=!0;const B=await zn(()=>O(e,ue,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:c,retryCount:i,shouldRetry:({error:F})=>F instanceof ko});p=!1;const N=B.transactions.find(({from:F,nonce:U})=>F===l.from&&U===l.nonce);if(!N||(b=await O(e,Ft,"getTransactionReceipt")({hash:N.hash}),r>1&&(!b.blockNumber||I-b.blockNumber+1n<r)))return;let R="replaced";N.to===l.to&&N.value===l.value&&N.input===l.input?R="repriced":N.from===N.to&&N.value===0n&&(R="cancelled"),E(()=>{y.onReplaced?.({reason:R,replacedTransaction:l,transaction:N,transactionReceipt:b}),y.resolve(b)})}catch(B){E(()=>y.reject(B))}}else E(()=>y.reject(k))}}})}),w}function sl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:c,pollingInterval:a=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=ye(["watchBlocks",e.uid,t,n,r,f,a]);return Se(p,{onBlock:s,onError:o},m=>ct(async()=>{try{const x=await O(e,ue,"getBlock")({blockTag:t,includeTransactions:f});if(x.number!==null&&d?.number!=null){if(x.number===d.number)return;if(x.number-d.number>1&&n)for(let w=d?.number+1n;w<x.number;w++){const v=await O(e,ue,"getBlock")({blockNumber:w,includeTransactions:f});m.onBlock(v,d),d=v}}(d?.number==null||t==="pending"&&x?.number==null||x.number!==null&&x.number>d.number)&&(m.onBlock(x,d),d=x)}catch(x){m.onError?.(x)}},{emitOnBegin:r,interval:a}))})():(()=>{let p=!0,m=!0,x=()=>p=!1;return(async()=>{try{r&&O(e,ue,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{p&&m&&(s(g,void 0),m=!1)}).catch(o);const w=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await w.subscribe({params:["newHeads"],async onData(g){if(!p)return;const h=await O(e,ue,"getBlock")({blockNumber:g.result?.number,includeTransactions:f}).catch(()=>{});p&&(s(h,d),m=!1,d=h)},onError(g){o?.(g)}});x=v,p||x()}catch(w){o?.(w)}})(),()=>x()})()}function ol(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:c,onLogs:a,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const x=ye(["watchEvent",t,n,r,e.uid,s,f,i]);return Se(x,{onLogs:a,onError:c},w=>{let v;i!==void 0&&(v=i-1n);let g,h=!1;const y=ct(async()=>{if(!h){try{g=await O(e,pi,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}h=!0;return}try{let P;if(g)P=await O(e,rn,"getFilterChanges")({filter:g});else{const E=await O(e,It,"getBlockNumber")({});v&&v!==E?P=await O(e,wr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:v+1n,toBlock:E}):P=[],v=E}if(P.length===0)return;if(r)w.onLogs(P);else for(const E of P)w.onLogs([E])}catch(P){g&&P instanceof nr&&(h=!1),w.onError?.(P)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await O(e,sn,"uninstallFilter")({filter:g}),y()}})})():(()=>{let x=!0,w=()=>x=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let h=[];g&&(h=[g.flatMap(E=>Pt({abi:[E],eventName:E.name,args:n}))],s&&(h=h[0]));const{unsubscribe:y}=await v.subscribe({params:["logs",{address:t,topics:h}],onData(P){if(!x)return;const E=P.result;try{const{eventName:I,args:k}=_t({abi:g??[],data:E.data,topics:E.topics,strict:b}),B=$e(E,{args:k,eventName:I});a([B])}catch(I){let k,B;if(I instanceof Ct||I instanceof or){if(d)return;k=I.abiItem.name,B=I.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const N=$e(E,{args:B?[]:{},eventName:k});a([N])}},onError(P){c?.(P)}});w=y,x||w()}catch(v){c?.(v)}})(),()=>w()})()}function il(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ye(["watchPendingTransactions",e.uid,t,o]);return Se(u,{onTransactions:r,onError:n},f=>{let d;const l=ct(async()=>{try{if(!d)try{d=await O(e,mi,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const b=await O(e,rn,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const p of b)f.onTransactions([p])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await O(e,sn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function al(e){const{scheme:t,statement:n,...r}=e.match(cl)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:c,requestId:a,...u}=e.match(ul)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...a?{requestId:a}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const cl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ul=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function fl(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ae(r.address,{strict:!1})||t&&!Jt(r.address,t))return!1}catch{return!1}return!0}async function dl(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:c,time:a=new Date,...u}=t,f=al(s);if(!f.address||!fl({address:n,domain:r,message:f,nonce:o,scheme:i,time:a}))return!1;const l=ao(s);return ln(e,{address:f.address,hash:l,signature:c,...u})}async function ll(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||Br)(s);if(i.status==="reverted"&&n)throw new M0({receipt:i});return i}function bl(e){return{call:t=>nn(e,t),createAccessList:t=>hi(e,t),createBlockFilter:()=>zu(e),createContractEventFilter:t=>go(e,t),createEventFilter:t=>pi(e,t),createPendingTransactionFilter:()=>mi(e),estimateContractGas:t=>lc(e,t),estimateGas:t=>yr(e,t),getBalance:t=>Ru(e,t),getBlobBaseFee:()=>Cu(e),getBlock:t=>ue(e,t),getBlockNumber:t=>It(e,t),getBlockTransactionCount:t=>Ou(e,t),getBytecode:t=>Dn(e,t),getChainId:()=>mr(e),getCode:t=>Dn(e,t),getContractEvents:t=>Ho(e,t),getEip712Domain:t=>Lu(e,t),getEnsAddress:t=>yu(e,t),getEnsAvatar:t=>Nu(e,t),getEnsName:t=>ku(e,t),getEnsResolver:t=>Fu(e,t),getEnsText:t=>bi(e,t),getFeeHistory:t=>Gu(e,t),estimateFeesPerGas:t=>rc(e,t),getFilterChanges:t=>rn(e,t),getFilterLogs:t=>ju(e,t),getGasPrice:()=>lr(e),getLogs:t=>wr(e,t),getProof:t=>od(e,t),estimateMaxPriorityFeePerGas:t=>nc(e,t),fillTransaction:t=>Vo(e,t),getStorageAt:t=>id(e,t),getTransaction:t=>Mr(e,t),getTransactionConfirmations:t=>ad(e,t),getTransactionCount:t=>Ro(e,t),getTransactionReceipt:t=>Ft(e,t),multicall:t=>cd(e,t),prepareTransactionRequest:t=>Do(e,t),readContract:t=>le(e,t),sendRawTransaction:t=>su(e,t),sendRawTransactionSync:t=>ll(e,t),simulate:t=>Wn(e,t),simulateBlocks:t=>Wn(e,t),simulateCalls:t=>gd(e,t),simulateContract:t=>Kc(e,t),verifyHash:t=>ln(e,t),verifyMessage:t=>tl(e,t),verifySiweMessage:t=>dl(e,t),verifyTypedData:t=>nl(e,t),uninstallFilter:t=>sn(e,t),waitForTransactionReceipt:t=>rl(e,t),watchBlocks:t=>sl(e,t),watchBlockNumber:t=>Yi(e,t),watchContractEvent:t=>ru(e,t),watchEvent:t=>ol(e,t),watchPendingTransactions:t=>il(e,t)}}function Yl(e){const{key:t="public",name:n="Public Client"}=e;return fu({...e,key:t,name:n,type:"publicClient"}).extend(bl)}function Kl(e){const{r:t,s:n}=Dr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:T(t,{size:32}),s:T(n,{size:32}),v:s,yParity:o}:{r:T(t,{size:32}),s:T(n,{size:32}),yParity:o}}export{Uf as $,At as A,_ as B,Yt as C,ot as D,st as E,Zt as F,ai as G,xi as H,Sl as I,Rl as J,Ac as K,El as L,H as M,Y as N,Ii as O,_r as P,ei as Q,ti as R,$l as S,jf as T,Qt as U,re as V,jl as W,j as X,xr as Y,Vf as Z,Ge as _,en as a,Wa as a$,Dl as a0,Df as a1,Hl as a2,Al as a3,Cl as a4,Bs as a5,Ai as a6,Nr as a7,Vl as a8,vr as a9,_t as aA,Wl as aB,on as aC,bu as aD,nn as aE,F0 as aF,No as aG,ko as aH,ou as aI,Bo as aJ,jn as aK,t0 as aL,ii as aM,j0 as aN,fr as aO,dt as aP,wu as aQ,$r as aR,Y0 as aS,m0 as aT,Da as aU,Za as aV,Xa as aW,nd as aX,Ja as aY,C0 as aZ,Ka as a_,Hn as aa,Gl as ab,jo as ac,Br as ad,Dn as ae,ln as af,zl as ag,Zl as ah,le as ai,yo as aj,Bt as ak,k0 as al,G0 as am,Un as an,Io as ao,rc as ap,ur as aq,Se as ar,ct as as,fu as at,Yl as au,Nl as av,du as aw,Kl as ax,kl as ay,Et as az,Yo as b,n0 as b0,O0 as b1,rt as b2,_0 as b3,e0 as b4,ec as b5,Ht as b6,Ya as b7,z0 as b8,L0 as b9,dr as bA,cr as bB,at as bC,tt as bD,mu as bE,Vn as bF,fs as bG,ds as bH,gr as bI,bl as bJ,Ao as bK,H0 as bL,J0 as bM,Jd as bN,Go as bO,uc as bP,Fo as bQ,tu as bR,pe as bS,Po as ba,Eo as bb,Qa as bc,Ha as bd,uu as be,U0 as bf,Tr as bg,Hu as bh,qu as bi,br as bj,hr as bk,v0 as bl,P0 as bm,Pe as bn,E0 as bo,oc as bp,Oo as bq,De as br,oi as bs,Dc as bt,Er as bu,Ss as bv,Pt as bw,lu as bx,Hc as by,md as bz,kf as c,Ml as d,Xo as e,Q as f,Ol as g,O as h,Ul as i,mr as j,Ro as k,Jt as l,xl as m,wl as n,Tl as o,ne as p,$e as q,vl as r,Pl as s,_l as t,tn as u,Fl as v,Le as w,sc as x,Kt as y,an as z};
